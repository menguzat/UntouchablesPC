import"../../core/debug.js";import{Vec4 as e}from"../../core/math/vec4.js";import{CULLFACE_NONE as t}from"../../platform/graphics/constants.js";import{DepthState as r}from"../../platform/graphics/depth-state.js";import{RenderPass as o}from"../../platform/graphics/render-pass.js";import{QuadRender as s}from"./quad-render.js";const n=new e;function l(e,l,p,i,a){e.setCullMode(t),e.setDepthState(r.NODEPTH),e.setStencilState(null,null);const c=new s(p);i||((i=n).x=0,i.y=0,i.z=l?l.width:e.width,i.w=l?l.height:e.height);const m=new o(e,(()=>{c.render(i,a)}));if(m.init(l),m.colorOps.clear=!1,m.depthStencilOps.clearDepth=!1,e.isWebGPU&&null===l){var h;(null!=(h=null==l?void 0:l.samples)?h:e.samples)>1&&(m.colorOps.store=!0)}m.render(),c.destroy()}function p(e,t,r,o,s,n){o=o||e.getCopyShader(),e.constantTexSource.setValue(t),l(e,r,o,s,n)}export{l as drawQuadWithShader,p as drawTexture};
