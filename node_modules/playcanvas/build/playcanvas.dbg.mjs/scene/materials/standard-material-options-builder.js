import { Quat } from '../../core/math/quat.js';
import { PIXELFORMAT_DXT5, TEXTURETYPE_SWIZZLEGGGR, PIXELFORMAT_RGBA8 } from '../../platform/graphics/constants.js';
import { SHADER_FORWARDHDR, GAMMA_SRGBHDR, TONEMAP_LINEAR, SHADERDEF_TANGENTS, SHADERDEF_SCREENSPACE, SHADERDEF_SKIN, SHADERDEF_INSTANCING, SHADERDEF_MORPH_POSITION, SHADERDEF_MORPH_NORMAL, SHADERDEF_MORPH_TEXTURE_BASED, BLEND_NONE, SPECULAR_PHONG, GAMMA_NONE, SHADERDEF_NOSHADOW, SHADERDEF_LM, SHADERDEF_DIRLM, SHADERDEF_LMAMBIENT, MASK_AFFECT_DYNAMIC, LIGHTTYPE_DIRECTIONAL, LIGHTTYPE_OMNI, LIGHTTYPE_SPOT, SHADERDEF_UV0, SHADERDEF_UV1, SHADERDEF_VCOLOR } from '../constants.js';
import { _matTex2D } from '../shader-lib/programs/standard.js';

const arraysEqual = (a, b) => {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i] !== b[i]) {
      return false;
    }
  }
  return true;
};
const notWhite = color => {
  return color.r !== 1 || color.g !== 1 || color.b !== 1;
};
const notBlack = color => {
  return color.r !== 0 || color.g !== 0 || color.b !== 0;
};
class StandardMaterialOptionsBuilder {
  constructor() {
    this._mapXForms = null;
  }

  // Minimal options for Depth and Shadow passes
  updateMinRef(options, scene, stdMat, objDefs, staticLightList, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateMinOptions(options, stdMat);
    this._updateUVOptions(options, stdMat, objDefs, true);
    options.litOptions.chunks = options.chunks;
  }
  updateRef(options, scene, stdMat, objDefs, staticLightList, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateEnvOptions(options, stdMat, scene);
    this._updateMaterialOptions(options, stdMat);
    if (pass === SHADER_FORWARDHDR) {
      if (options.litOptions.gamma) options.litOptions.gamma = GAMMA_SRGBHDR;
      options.litOptions.toneMap = TONEMAP_LINEAR;
    }
    options.litOptions.hasTangents = objDefs && (objDefs & SHADERDEF_TANGENTS) !== 0;
    this._updateLightOptions(options, scene, stdMat, objDefs, sortedLights, staticLightList);
    this._updateUVOptions(options, stdMat, objDefs, false);
    options.litOptions.chunks = options.chunks;
  }
  _updateSharedOptions(options, scene, stdMat, objDefs, pass) {
    options.forceUv1 = stdMat.forceUv1;
    options.chunks = stdMat.chunks || '';
    options.pass = pass;
    options.litOptions.alphaTest = stdMat.alphaTest > 0;
    options.litOptions.forceFragmentPrecision = stdMat.forceFragmentPrecision || '';
    options.litOptions.blendType = stdMat.blendType;
    options.litOptions.separateAmbient = false; // store ambient light color in separate variable, instead of adding it to diffuse directly
    options.litOptions.screenSpace = objDefs && (objDefs & SHADERDEF_SCREENSPACE) !== 0;
    options.litOptions.skin = objDefs && (objDefs & SHADERDEF_SKIN) !== 0;
    options.litOptions.useInstancing = objDefs && (objDefs & SHADERDEF_INSTANCING) !== 0;
    options.litOptions.useMorphPosition = objDefs && (objDefs & SHADERDEF_MORPH_POSITION) !== 0;
    options.litOptions.useMorphNormal = objDefs && (objDefs & SHADERDEF_MORPH_NORMAL) !== 0;
    options.litOptions.useMorphTextureBased = objDefs && (objDefs & SHADERDEF_MORPH_TEXTURE_BASED) !== 0;
    options.litOptions.nineSlicedMode = stdMat.nineSlicedMode || 0;

    // clustered lighting features (in shared options as shadow pass needs this too)
    if (scene.clusteredLightingEnabled && stdMat.useLighting) {
      options.litOptions.clusteredLightingEnabled = true;
      options.litOptions.clusteredLightingCookiesEnabled = scene.lighting.cookiesEnabled;
      options.litOptions.clusteredLightingShadowsEnabled = scene.lighting.shadowsEnabled;
      options.litOptions.clusteredLightingShadowType = scene.lighting.shadowType;
      options.litOptions.clusteredLightingAreaLightsEnabled = scene.lighting.areaLightsEnabled;
    } else {
      options.litOptions.clusteredLightingEnabled = false;
      options.litOptions.clusteredLightingCookiesEnabled = false;
      options.litOptions.clusteredLightingShadowsEnabled = false;
      options.litOptions.clusteredLightingAreaLightsEnabled = false;
    }
  }
  _updateUVOptions(options, stdMat, objDefs, minimalOptions) {
    let hasUv0 = false;
    let hasUv1 = false;
    let hasVcolor = false;
    if (objDefs) {
      hasUv0 = (objDefs & SHADERDEF_UV0) !== 0;
      hasUv1 = (objDefs & SHADERDEF_UV1) !== 0;
      hasVcolor = (objDefs & SHADERDEF_VCOLOR) !== 0;
    }
    options.litOptions.vertexColors = false;
    this._mapXForms = [];
    const uniqueTextureMap = {};
    for (const p in _matTex2D) {
      this._updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap);
    }
    this._mapXForms = null;

    // All texture related lit options
    options.litOptions.lightMapEnabled = options.lightMap;
    options.litOptions.useLightMapVertexColors = options.lightVertexColor;
    options.litOptions.dirLightMapEnabled = options.dirLightMap;
    options.litOptions.heightMapEnabled = options.heightMap;
    options.litOptions.normalMapEnabled = options.normalMap;
    options.litOptions.clearCoatNormalMapEnabled = options.clearCoatNormalMap;
    options.litOptions.aoMapEnabled = options.aoMap;
    options.litOptions.useAoVertexColors = options.aoVertexColor;
    options.litOptions.diffuseMapEnabled = options.diffuseMap;
  }
  _updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap) {
    const mname = p + 'Map';
    const vname = p + 'VertexColor';
    const vcname = p + 'VertexColorChannel';
    const cname = mname + 'Channel';
    const tname = mname + 'Transform';
    const uname = mname + 'Uv';
    const iname = mname + 'Identifier';

    // Avoid overriding previous lightMap properties
    if (p !== 'light') {
      options[mname] = false;
      options[iname] = undefined;
      options[cname] = '';
      options[tname] = 0;
      options[uname] = 0;
    }
    options[vname] = false;
    options[vcname] = '';
    const isOpacity = p === 'opacity';
    if (isOpacity && stdMat.blendType === BLEND_NONE && stdMat.alphaTest === 0.0 && !stdMat.alphaToCoverage) {
      return;
    }
    if (!minimalOptions || isOpacity) {
      if (p !== 'height' && stdMat[vname]) {
        if (hasVcolor) {
          options[vname] = stdMat[vname];
          options[vcname] = stdMat[vcname];
          options.litOptions.vertexColors = true;
        }
      }
      if (stdMat[mname]) {
        let allow = true;
        if (stdMat[uname] === 0 && !hasUv0) allow = false;
        if (stdMat[uname] === 1 && !hasUv1) allow = false;
        if (allow) {
          // create an intermediate map between the textures and their slots
          // to ensure the unique texture mapping isn't dependent on the texture id
          // as that will change when textures are changed, even if the sharing is the same
          const mapId = stdMat[mname].id;
          let identifier = uniqueTextureMap[mapId];
          if (identifier === undefined) {
            uniqueTextureMap[mapId] = p;
            identifier = p;
          }
          options[mname] = !!stdMat[mname];
          options[iname] = identifier;
          options[tname] = this._getMapTransformID(stdMat.getUniform(tname), stdMat[uname]);
          options[cname] = stdMat[cname];
          options[uname] = stdMat[uname];
        }
      }
    }
  }
  _updateMinOptions(options, stdMat) {
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE;
    options.litOptions.lights = [];
  }
  _updateMaterialOptions(options, stdMat) {
    var _stdMat$diffuseMap, _stdMat$diffuseDetail, _stdMat$emissiveMap, _stdMat$lightMap;
    const diffuseTint = (stdMat.diffuseTint || !stdMat.diffuseMap && !stdMat.diffuseVertexColor) && notWhite(stdMat.diffuse);
    const useSpecular = !!(stdMat.useMetalness || stdMat.specularMap || stdMat.sphereMap || stdMat.cubeMap || notBlack(stdMat.specular) || stdMat.specularityFactor > 0 && stdMat.useMetalness || stdMat.enableGGXSpecular || stdMat.clearCoat > 0);
    const useSpecularColor = !stdMat.useMetalness || stdMat.useMetalnessSpecularColor;
    const specularTint = useSpecular && (stdMat.specularTint || !stdMat.specularMap && !stdMat.specularVertexColor) && notWhite(stdMat.specular);
    const specularityFactorTint = useSpecular && stdMat.useMetalnessSpecularColor && (stdMat.specularityFactorTint || stdMat.specularityFactor < 1 && !stdMat.specularityFactorMap);
    const emissiveTintColor = !stdMat.emissiveMap || notWhite(stdMat.emissive) && stdMat.emissiveTint;
    const emissiveTintIntensity = stdMat.emissiveIntensity !== 1;
    const isPackedNormalMap = stdMat.normalMap ? stdMat.normalMap.format === PIXELFORMAT_DXT5 || stdMat.normalMap.type === TEXTURETYPE_SWIZZLEGGGR : false;
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE ? 1 : 0;
    options.ambientTint = stdMat.ambientTint;
    options.diffuseTint = diffuseTint ? 2 : 0;
    options.specularTint = specularTint ? 2 : 0;
    options.specularityFactorTint = specularityFactorTint ? 1 : 0;
    options.metalnessTint = stdMat.useMetalness && stdMat.metalness < 1 ? 1 : 0;
    options.glossTint = 1;
    options.emissiveTint = (emissiveTintColor ? 2 : 0) + (emissiveTintIntensity ? 1 : 0);
    options.diffuseEncoding = (_stdMat$diffuseMap = stdMat.diffuseMap) == null ? void 0 : _stdMat$diffuseMap.encoding;
    options.diffuseDetailEncoding = (_stdMat$diffuseDetail = stdMat.diffuseDetailMap) == null ? void 0 : _stdMat$diffuseDetail.encoding;
    options.emissiveEncoding = (_stdMat$emissiveMap = stdMat.emissiveMap) == null ? void 0 : _stdMat$emissiveMap.encoding;
    options.lightMapEncoding = (_stdMat$lightMap = stdMat.lightMap) == null ? void 0 : _stdMat$lightMap.encoding;
    options.packedNormal = isPackedNormalMap;
    options.refractionTint = stdMat.refraction !== 1.0 ? 1 : 0;
    options.refractionIndexTint = stdMat.refractionIndex !== 1.0 / 1.5 ? 1 : 0;
    options.thicknessTint = stdMat.useDynamicRefraction && stdMat.thickness !== 1.0 ? 1 : 0;
    options.specularEncoding = stdMat.specularEncoding || 'linear';
    options.sheenEncoding = stdMat.sheenEncoding || 'linear';
    options.aoMapUv = stdMat.aoUvSet; // backwards compatibility
    options.diffuseDetail = !!stdMat.diffuseMap;
    options.normalDetail = !!stdMat.normalMap;
    options.diffuseDetailMode = stdMat.diffuseDetailMode;
    options.clearCoatTint = stdMat.clearCoat !== 1.0 ? 1 : 0;
    options.clearCoatGloss = !!stdMat.clearCoatGloss;
    options.clearCoatGlossTint = stdMat.clearCoatGloss !== 1.0 ? 1 : 0;
    options.iridescenceTint = stdMat.iridescence !== 1.0 ? 1 : 0;
    options.sheenTint = stdMat.useSheen && notWhite(stdMat.sheen) ? 2 : 0;
    options.sheenGlossTint = 1;
    options.glossInvert = stdMat.glossInvert;
    options.sheenGlossInvert = stdMat.sheenGlossInvert;
    options.clearCoatGlossInvert = stdMat.clearCoatGlossInvert;

    // LIT OPTIONS
    options.litOptions.useAmbientTint = options.ambientTint;
    options.litOptions.customFragmentShader = stdMat.customFragmentShader;
    options.litOptions.pixelSnap = stdMat.pixelSnap;
    options.litOptions.useClearCoatNormalMap = !!stdMat.clearCoatNormalMap;
    options.litOptions.useDiffuseMap = !!stdMat.diffuseMap;
    options.litOptions.useAoMap = !!stdMat.aoMap;
    options.litOptions.detailModes = !!options.diffuseDetail;
    options.litOptions.shadingModel = stdMat.shadingModel;
    options.litOptions.ambientSH = !!stdMat.ambientSH;
    options.litOptions.fastTbn = stdMat.fastTbn;
    options.litOptions.twoSidedLighting = stdMat.twoSidedLighting;
    options.litOptions.occludeSpecular = stdMat.occludeSpecular;
    options.litOptions.occludeSpecularFloat = stdMat.occludeSpecularIntensity !== 1.0;
    options.litOptions.useMsdf = !!stdMat.msdfMap;
    options.litOptions.msdfTextAttribute = !!stdMat.msdfTextAttribute;
    options.litOptions.alphaToCoverage = stdMat.alphaToCoverage;
    options.litOptions.opacityFadesSpecular = stdMat.opacityFadesSpecular;
    options.litOptions.cubeMapProjection = stdMat.cubeMapProjection;
    options.litOptions.occludeDirect = stdMat.occludeDirect;
    options.litOptions.conserveEnergy = stdMat.conserveEnergy && stdMat.shadingModel !== SPECULAR_PHONG;
    options.litOptions.useSpecular = useSpecular;
    options.litOptions.useSpecularityFactor = (specularityFactorTint || !!stdMat.specularityFactorMap) && stdMat.useMetalnessSpecularColor;
    options.litOptions.useSpecularColor = useSpecularColor;
    options.litOptions.enableGGXSpecular = stdMat.enableGGXSpecular;
    options.litOptions.fresnelModel = stdMat.fresnelModel;
    options.litOptions.useRefraction = (stdMat.refraction || !!stdMat.refractionMap) && (stdMat.useDynamicRefraction || !!options.litOptions.reflectionSource);
    options.litOptions.useClearCoat = !!stdMat.clearCoat;
    options.litOptions.useSheen = stdMat.useSheen;
    options.litOptions.useIridescence = stdMat.useIridescence && stdMat.iridescence !== 0.0;
    options.litOptions.useMetalness = stdMat.useMetalness;
    options.litOptions.useDynamicRefraction = stdMat.useDynamicRefraction;
  }
  _updateEnvOptions(options, stdMat, scene) {
    options.litOptions.fog = stdMat.useFog ? scene.fog : 'none';
    options.litOptions.gamma = stdMat.useGammaTonemap ? scene.gammaCorrection : GAMMA_NONE;
    options.litOptions.toneMap = stdMat.useGammaTonemap ? scene.toneMapping : -1;
    options.litOptions.fixSeams = stdMat.cubeMap ? stdMat.cubeMap.fixCubemapSeams : false;
    const isPhong = stdMat.shadingModel === SPECULAR_PHONG;
    let usingSceneEnv = false;

    // source of environment reflections is as follows:
    if (stdMat.envAtlas && stdMat.cubeMap && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
    } else if (stdMat.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
    } else if (stdMat.cubeMap) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = stdMat.cubeMap.encoding;
    } else if (stdMat.sphereMap) {
      options.litOptions.reflectionSource = 'sphereMap';
      options.litOptions.reflectionEncoding = stdMat.sphereMap.encoding;
    } else if (stdMat.useSkybox && scene.envAtlas && scene.skybox && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.skybox) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = scene.skybox.encoding;
      usingSceneEnv = true;
    } else {
      options.litOptions.reflectionSource = null;
      options.litOptions.reflectionEncoding = null;
    }

    // source of environment ambient is as follows:
    if (stdMat.ambientSH && !isPhong) {
      options.litOptions.ambientSource = 'ambientSH';
      options.litOptions.ambientEncoding = null;
    } else {
      const envAtlas = stdMat.envAtlas || (stdMat.useSkybox && scene.envAtlas ? scene.envAtlas : null);
      if (envAtlas && !isPhong) {
        options.litOptions.ambientSource = 'envAtlas';
        options.litOptions.ambientEncoding = envAtlas.encoding;
      } else {
        options.litOptions.ambientSource = 'constant';
        options.litOptions.ambientEncoding = null;
      }
    }

    // TODO: add a test for if non skybox cubemaps have rotation (when this is supported) - for now assume no non-skybox cubemap rotation
    options.litOptions.skyboxIntensity = usingSceneEnv && (scene.skyboxIntensity !== 1 || scene.physicalUnits);
    options.litOptions.useCubeMapRotation = usingSceneEnv && scene.skyboxRotation && !scene.skyboxRotation.equals(Quat.IDENTITY);
  }
  _updateLightOptions(options, scene, stdMat, objDefs, sortedLights, staticLightList) {
    options.lightMap = false;
    options.lightMapChannel = '';
    options.lightMapUv = 0;
    options.lightMapTransform = 0;
    options.litOptions.lightMapWithoutAmbient = false;
    options.dirLightMap = false;
    if (objDefs) {
      options.litOptions.noShadow = (objDefs & SHADERDEF_NOSHADOW) !== 0;
      if ((objDefs & SHADERDEF_LM) !== 0) {
        options.lightMapEncoding = scene.lightmapPixelFormat === PIXELFORMAT_RGBA8 ? 'rgbm' : 'linear';
        options.lightMap = true;
        options.lightMapChannel = 'rgb';
        options.lightMapUv = 1;
        options.lightMapTransform = 0;
        options.litOptions.lightMapWithoutAmbient = !stdMat.lightMap;
        if ((objDefs & SHADERDEF_DIRLM) !== 0) {
          options.dirLightMap = true;
        }

        // if lightmaps contain baked ambient light, disable real-time ambient light
        if ((objDefs & SHADERDEF_LMAMBIENT) !== 0) {
          options.litOptions.lightMapWithoutAmbient = false;
        }
      }
    }
    if (stdMat.useLighting) {
      const lightsFiltered = [];
      const mask = objDefs ? objDefs >> 16 : MASK_AFFECT_DYNAMIC;

      // mask to select lights (dynamic vs lightmapped) when using clustered lighting
      options.litOptions.lightMaskDynamic = !!(mask & MASK_AFFECT_DYNAMIC);
      if (sortedLights) {
        this._collectLights(LIGHTTYPE_DIRECTIONAL, sortedLights[LIGHTTYPE_DIRECTIONAL], lightsFiltered, mask);
        this._collectLights(LIGHTTYPE_OMNI, sortedLights[LIGHTTYPE_OMNI], lightsFiltered, mask, staticLightList);
        this._collectLights(LIGHTTYPE_SPOT, sortedLights[LIGHTTYPE_SPOT], lightsFiltered, mask, staticLightList);
      }
      options.litOptions.lights = lightsFiltered;
    } else {
      options.litOptions.lights = [];
    }
    if (options.litOptions.lights.length === 0) {
      options.litOptions.noShadow = true;
    }
  }
  _collectLights(lType, lights, lightsFiltered, mask, staticLightList) {
    for (let i = 0; i < lights.length; i++) {
      const light = lights[i];
      if (light.enabled) {
        if (light.mask & mask) {
          if (lType !== LIGHTTYPE_DIRECTIONAL) {
            if (light.isStatic) {
              continue;
            }
          }
          lightsFiltered.push(light);
        }
      }
    }
    if (staticLightList) {
      for (let i = 0; i < staticLightList.length; i++) {
        const light = staticLightList[i];
        if (light._type === lType) {
          lightsFiltered.push(light);
        }
      }
    }
  }
  _getMapTransformID(xform, uv) {
    if (!xform) return 0;
    let xforms = this._mapXForms[uv];
    if (!xforms) {
      xforms = [];
      this._mapXForms[uv] = xforms;
    }
    for (let i = 0; i < xforms.length; i++) {
      if (arraysEqual(xforms[i][0].value, xform[0].value) && arraysEqual(xforms[i][1].value, xform[1].value)) {
        return i + 1;
      }
    }
    return xforms.push(xform);
  }
}

export { StandardMaterialOptionsBuilder };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhbmRhcmQtbWF0ZXJpYWwtb3B0aW9ucy1idWlsZGVyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2NlbmUvbWF0ZXJpYWxzL3N0YW5kYXJkLW1hdGVyaWFsLW9wdGlvbnMtYnVpbGRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWF0IH0gZnJvbSAnLi4vLi4vY29yZS9tYXRoL3F1YXQuanMnO1xuXG5pbXBvcnQge1xuICAgIFBJWEVMRk9STUFUX0RYVDUsIFBJWEVMRk9STUFUX1JHQkE4LCBURVhUVVJFVFlQRV9TV0laWkxFR0dHUlxufSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQge1xuICAgIEJMRU5EX05PTkUsXG4gICAgR0FNTUFfTk9ORSwgR0FNTUFfU1JHQkhEUixcbiAgICBMSUdIVFRZUEVfRElSRUNUSU9OQUwsIExJR0hUVFlQRV9PTU5JLCBMSUdIVFRZUEVfU1BPVCxcbiAgICBNQVNLX0FGRkVDVF9EWU5BTUlDLFxuICAgIFNIQURFUl9GT1JXQVJESERSLFxuICAgIFNIQURFUkRFRl9ESVJMTSwgU0hBREVSREVGX0lOU1RBTkNJTkcsIFNIQURFUkRFRl9MTSwgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OLCBTSEFERVJERUZfTU9SUEhfTk9STUFMLCBTSEFERVJERUZfTk9TSEFET1csIFNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VELFxuICAgIFNIQURFUkRFRl9TQ1JFRU5TUEFDRSwgU0hBREVSREVGX1NLSU4sIFNIQURFUkRFRl9UQU5HRU5UUywgU0hBREVSREVGX1VWMCwgU0hBREVSREVGX1VWMSwgU0hBREVSREVGX1ZDT0xPUiwgU0hBREVSREVGX0xNQU1CSUVOVCxcbiAgICBUT05FTUFQX0xJTkVBUixcbiAgICBTUEVDVUxBUl9QSE9OR1xufSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgX21hdFRleDJEIH0gZnJvbSAnLi4vc2hhZGVyLWxpYi9wcm9ncmFtcy9zdGFuZGFyZC5qcyc7XG5cbmNvbnN0IGFycmF5c0VxdWFsID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBub3RXaGl0ZSA9IChjb2xvcikgPT4ge1xuICAgIHJldHVybiBjb2xvci5yICE9PSAxIHx8IGNvbG9yLmcgIT09IDEgfHwgY29sb3IuYiAhPT0gMTtcbn07XG5cbmNvbnN0IG5vdEJsYWNrID0gKGNvbG9yKSA9PiB7XG4gICAgcmV0dXJuIGNvbG9yLnIgIT09IDAgfHwgY29sb3IuZyAhPT0gMCB8fCBjb2xvci5iICE9PSAwO1xufTtcblxuY2xhc3MgU3RhbmRhcmRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbWFwWEZvcm1zID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBNaW5pbWFsIG9wdGlvbnMgZm9yIERlcHRoIGFuZCBTaGFkb3cgcGFzc2VzXG4gICAgdXBkYXRlTWluUmVmKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHN0YXRpY0xpZ2h0TGlzdCwgcGFzcywgc29ydGVkTGlnaHRzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1pbk9wdGlvbnMob3B0aW9ucywgc3RkTWF0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgdHJ1ZSk7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jaHVua3MgPSBvcHRpb25zLmNodW5rcztcbiAgICB9XG5cbiAgICB1cGRhdGVSZWYob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgc3RhdGljTGlnaHRMaXN0LCBwYXNzLCBzb3J0ZWRMaWdodHMpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2hhcmVkT3B0aW9ucyhvcHRpb25zLCBzY2VuZSwgc3RkTWF0LCBvYmpEZWZzLCBwYXNzKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRW52T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHNjZW5lKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTWF0ZXJpYWxPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCk7XG4gICAgICAgIGlmIChwYXNzID09PSBTSEFERVJfRk9SV0FSREhEUikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGl0T3B0aW9ucy5nYW1tYSkgb3B0aW9ucy5saXRPcHRpb25zLmdhbW1hID0gR0FNTUFfU1JHQkhEUjtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy50b25lTWFwID0gVE9ORU1BUF9MSU5FQVI7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmhhc1RhbmdlbnRzID0gb2JqRGVmcyAmJiAoKG9iakRlZnMgJiBTSEFERVJERUZfVEFOR0VOVFMpICE9PSAwKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTGlnaHRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHNvcnRlZExpZ2h0cywgc3RhdGljTGlnaHRMaXN0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgZmFsc2UpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2h1bmtzID0gb3B0aW9ucy5jaHVua3M7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcykge1xuICAgICAgICBvcHRpb25zLmZvcmNlVXYxID0gc3RkTWF0LmZvcmNlVXYxO1xuICAgICAgICBvcHRpb25zLmNodW5rcyA9IHN0ZE1hdC5jaHVua3MgfHwgJyc7XG5cbiAgICAgICAgb3B0aW9ucy5wYXNzID0gcGFzcztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFscGhhVGVzdCA9IHN0ZE1hdC5hbHBoYVRlc3QgPiAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZm9yY2VGcmFnbWVudFByZWNpc2lvbiA9IHN0ZE1hdC5mb3JjZUZyYWdtZW50UHJlY2lzaW9uIHx8ICcnO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYmxlbmRUeXBlID0gc3RkTWF0LmJsZW5kVHlwZTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNlcGFyYXRlQW1iaWVudCA9IGZhbHNlOyAgICAvLyBzdG9yZSBhbWJpZW50IGxpZ2h0IGNvbG9yIGluIHNlcGFyYXRlIHZhcmlhYmxlLCBpbnN0ZWFkIG9mIGFkZGluZyBpdCB0byBkaWZmdXNlIGRpcmVjdGx5XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5zY3JlZW5TcGFjZSA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfU0NSRUVOU1BBQ0UpICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2tpbiA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfU0tJTikgIT09IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VJbnN0YW5jaW5nID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9JTlNUQU5DSU5HKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoUG9zaXRpb24gPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoTm9ybWFsID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9NT1JQSF9OT1JNQUwpICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlTW9ycGhUZXh0dXJlQmFzZWQgPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX01PUlBIX1RFWFRVUkVfQkFTRUQpICE9PSAwO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5uaW5lU2xpY2VkTW9kZSA9IHN0ZE1hdC5uaW5lU2xpY2VkTW9kZSB8fCAwO1xuXG4gICAgICAgIC8vIGNsdXN0ZXJlZCBsaWdodGluZyBmZWF0dXJlcyAoaW4gc2hhcmVkIG9wdGlvbnMgYXMgc2hhZG93IHBhc3MgbmVlZHMgdGhpcyB0b28pXG4gICAgICAgIGlmIChzY2VuZS5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQgJiYgc3RkTWF0LnVzZUxpZ2h0aW5nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0Nvb2tpZXNFbmFibGVkID0gc2NlbmUubGlnaHRpbmcuY29va2llc0VuYWJsZWQ7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLnNoYWRvd3NFbmFibGVkO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93VHlwZSA9IHNjZW5lLmxpZ2h0aW5nLnNoYWRvd1R5cGU7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLmFyZWFMaWdodHNFbmFibGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQ29va2llc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ1NoYWRvd3NFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVVWT3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIG9iakRlZnMsIG1pbmltYWxPcHRpb25zKSB7XG4gICAgICAgIGxldCBoYXNVdjAgPSBmYWxzZTtcbiAgICAgICAgbGV0IGhhc1V2MSA9IGZhbHNlO1xuICAgICAgICBsZXQgaGFzVmNvbG9yID0gZmFsc2U7XG4gICAgICAgIGlmIChvYmpEZWZzKSB7XG4gICAgICAgICAgICBoYXNVdjAgPSAob2JqRGVmcyAmIFNIQURFUkRFRl9VVjApICE9PSAwO1xuICAgICAgICAgICAgaGFzVXYxID0gKG9iakRlZnMgJiBTSEFERVJERUZfVVYxKSAhPT0gMDtcbiAgICAgICAgICAgIGhhc1Zjb2xvciA9IChvYmpEZWZzICYgU0hBREVSREVGX1ZDT0xPUikgIT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudmVydGV4Q29sb3JzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21hcFhGb3JtcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHVuaXF1ZVRleHR1cmVNYXAgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBwIGluIF9tYXRUZXgyRCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGV4T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHAsIGhhc1V2MCwgaGFzVXYxLCBoYXNWY29sb3IsIG1pbmltYWxPcHRpb25zLCB1bmlxdWVUZXh0dXJlTWFwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXBYRm9ybXMgPSBudWxsO1xuXG4gICAgICAgIC8vIEFsbCB0ZXh0dXJlIHJlbGF0ZWQgbGl0IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwRW5hYmxlZCA9IG9wdGlvbnMubGlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VMaWdodE1hcFZlcnRleENvbG9ycyA9IG9wdGlvbnMubGlnaHRWZXJ0ZXhDb2xvcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmRpckxpZ2h0TWFwRW5hYmxlZCA9IG9wdGlvbnMuZGlyTGlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5oZWlnaHRNYXBFbmFibGVkID0gb3B0aW9ucy5oZWlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5ub3JtYWxNYXBFbmFibGVkID0gb3B0aW9ucy5ub3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbGVhckNvYXROb3JtYWxNYXBFbmFibGVkID0gb3B0aW9ucy5jbGVhckNvYXROb3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hb01hcEVuYWJsZWQgPSBvcHRpb25zLmFvTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQW9WZXJ0ZXhDb2xvcnMgPSBvcHRpb25zLmFvVmVydGV4Q29sb3I7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5kaWZmdXNlTWFwRW5hYmxlZCA9IG9wdGlvbnMuZGlmZnVzZU1hcDtcbiAgICB9XG5cbiAgICBfdXBkYXRlVGV4T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHAsIGhhc1V2MCwgaGFzVXYxLCBoYXNWY29sb3IsIG1pbmltYWxPcHRpb25zLCB1bmlxdWVUZXh0dXJlTWFwKSB7XG4gICAgICAgIGNvbnN0IG1uYW1lID0gcCArICdNYXAnO1xuICAgICAgICBjb25zdCB2bmFtZSA9IHAgKyAnVmVydGV4Q29sb3InO1xuICAgICAgICBjb25zdCB2Y25hbWUgPSBwICsgJ1ZlcnRleENvbG9yQ2hhbm5lbCc7XG4gICAgICAgIGNvbnN0IGNuYW1lID0gbW5hbWUgKyAnQ2hhbm5lbCc7XG4gICAgICAgIGNvbnN0IHRuYW1lID0gbW5hbWUgKyAnVHJhbnNmb3JtJztcbiAgICAgICAgY29uc3QgdW5hbWUgPSBtbmFtZSArICdVdic7XG4gICAgICAgIGNvbnN0IGluYW1lID0gbW5hbWUgKyAnSWRlbnRpZmllcic7XG5cbiAgICAgICAgLy8gQXZvaWQgb3ZlcnJpZGluZyBwcmV2aW91cyBsaWdodE1hcCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmIChwICE9PSAnbGlnaHQnKSB7XG4gICAgICAgICAgICBvcHRpb25zW21uYW1lXSA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0aW9uc1tpbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBvcHRpb25zW2NuYW1lXSA9ICcnO1xuICAgICAgICAgICAgb3B0aW9uc1t0bmFtZV0gPSAwO1xuICAgICAgICAgICAgb3B0aW9uc1t1bmFtZV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnNbdm5hbWVdID0gZmFsc2U7XG4gICAgICAgIG9wdGlvbnNbdmNuYW1lXSA9ICcnO1xuXG4gICAgICAgIGNvbnN0IGlzT3BhY2l0eSA9IHAgPT09ICdvcGFjaXR5JztcbiAgICAgICAgaWYgKGlzT3BhY2l0eSAmJiBzdGRNYXQuYmxlbmRUeXBlID09PSBCTEVORF9OT05FICYmIHN0ZE1hdC5hbHBoYVRlc3QgPT09IDAuMCAmJiAhc3RkTWF0LmFscGhhVG9Db3ZlcmFnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtaW5pbWFsT3B0aW9ucyB8fCBpc09wYWNpdHkpIHtcbiAgICAgICAgICAgIGlmIChwICE9PSAnaGVpZ2h0JyAmJiBzdGRNYXRbdm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc1Zjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3ZuYW1lXSA9IHN0ZE1hdFt2bmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbdmNuYW1lXSA9IHN0ZE1hdFt2Y25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudmVydGV4Q29sb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RkTWF0W21uYW1lXSkge1xuICAgICAgICAgICAgICAgIGxldCBhbGxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZE1hdFt1bmFtZV0gPT09IDAgJiYgIWhhc1V2MCkgYWxsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RkTWF0W3VuYW1lXSA9PT0gMSAmJiAhaGFzVXYxKSBhbGxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChhbGxvdykge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBpbnRlcm1lZGlhdGUgbWFwIGJldHdlZW4gdGhlIHRleHR1cmVzIGFuZCB0aGVpciBzbG90c1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBlbnN1cmUgdGhlIHVuaXF1ZSB0ZXh0dXJlIG1hcHBpbmcgaXNuJ3QgZGVwZW5kZW50IG9uIHRoZSB0ZXh0dXJlIGlkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHRoYXQgd2lsbCBjaGFuZ2Ugd2hlbiB0ZXh0dXJlcyBhcmUgY2hhbmdlZCwgZXZlbiBpZiB0aGUgc2hhcmluZyBpcyB0aGUgc2FtZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXBJZCA9IHN0ZE1hdFttbmFtZV0uaWQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpZGVudGlmaWVyID0gdW5pcXVlVGV4dHVyZU1hcFttYXBJZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZGVudGlmaWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZVRleHR1cmVNYXBbbWFwSWRdID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSBwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1ttbmFtZV0gPSAhIXN0ZE1hdFttbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbaW5hbWVdID0gaWRlbnRpZmllcjtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1t0bmFtZV0gPSB0aGlzLl9nZXRNYXBUcmFuc2Zvcm1JRChzdGRNYXQuZ2V0VW5pZm9ybSh0bmFtZSksIHN0ZE1hdFt1bmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2NuYW1lXSA9IHN0ZE1hdFtjbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbdW5hbWVdID0gc3RkTWF0W3VuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlTWluT3B0aW9ucyhvcHRpb25zLCBzdGRNYXQpIHtcbiAgICAgICAgb3B0aW9ucy5vcGFjaXR5VGludCA9IHN0ZE1hdC5vcGFjaXR5ICE9PSAxICYmIHN0ZE1hdC5ibGVuZFR5cGUgIT09IEJMRU5EX05PTkU7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMgPSBbXTtcbiAgICB9XG5cbiAgICBfdXBkYXRlTWF0ZXJpYWxPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCkge1xuICAgICAgICBjb25zdCBkaWZmdXNlVGludCA9IChzdGRNYXQuZGlmZnVzZVRpbnQgfHwgKCFzdGRNYXQuZGlmZnVzZU1hcCAmJiAhc3RkTWF0LmRpZmZ1c2VWZXJ0ZXhDb2xvcikpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90V2hpdGUoc3RkTWF0LmRpZmZ1c2UpO1xuXG4gICAgICAgIGNvbnN0IHVzZVNwZWN1bGFyID0gISEoc3RkTWF0LnVzZU1ldGFsbmVzcyB8fCBzdGRNYXQuc3BlY3VsYXJNYXAgfHwgc3RkTWF0LnNwaGVyZU1hcCB8fCBzdGRNYXQuY3ViZU1hcCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEJsYWNrKHN0ZE1hdC5zcGVjdWxhcikgfHwgKHN0ZE1hdC5zcGVjdWxhcml0eUZhY3RvciA+IDAgJiYgc3RkTWF0LnVzZU1ldGFsbmVzcykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRNYXQuZW5hYmxlR0dYU3BlY3VsYXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RkTWF0LmNsZWFyQ29hdCA+IDApKTtcblxuICAgICAgICBjb25zdCB1c2VTcGVjdWxhckNvbG9yID0gKCFzdGRNYXQudXNlTWV0YWxuZXNzIHx8IHN0ZE1hdC51c2VNZXRhbG5lc3NTcGVjdWxhckNvbG9yKTtcbiAgICAgICAgY29uc3Qgc3BlY3VsYXJUaW50ID0gdXNlU3BlY3VsYXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0ZE1hdC5zcGVjdWxhclRpbnQgfHwgKCFzdGRNYXQuc3BlY3VsYXJNYXAgJiYgIXN0ZE1hdC5zcGVjdWxhclZlcnRleENvbG9yKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90V2hpdGUoc3RkTWF0LnNwZWN1bGFyKTtcblxuICAgICAgICBjb25zdCBzcGVjdWxhcml0eUZhY3RvclRpbnQgPSB1c2VTcGVjdWxhciAmJiBzdGRNYXQudXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yVGludCB8fCAoc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yIDwgMSAmJiAhc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yTWFwKSk7XG5cbiAgICAgICAgY29uc3QgZW1pc3NpdmVUaW50Q29sb3IgPSAhc3RkTWF0LmVtaXNzaXZlTWFwIHx8IChub3RXaGl0ZShzdGRNYXQuZW1pc3NpdmUpICYmIHN0ZE1hdC5lbWlzc2l2ZVRpbnQpO1xuICAgICAgICBjb25zdCBlbWlzc2l2ZVRpbnRJbnRlbnNpdHkgPSAoc3RkTWF0LmVtaXNzaXZlSW50ZW5zaXR5ICE9PSAxKTtcblxuICAgICAgICBjb25zdCBpc1BhY2tlZE5vcm1hbE1hcCA9IHN0ZE1hdC5ub3JtYWxNYXAgPyAoc3RkTWF0Lm5vcm1hbE1hcC5mb3JtYXQgPT09IFBJWEVMRk9STUFUX0RYVDUgfHwgc3RkTWF0Lm5vcm1hbE1hcC50eXBlID09PSBURVhUVVJFVFlQRV9TV0laWkxFR0dHUikgOiBmYWxzZTtcblxuICAgICAgICBvcHRpb25zLm9wYWNpdHlUaW50ID0gKHN0ZE1hdC5vcGFjaXR5ICE9PSAxICYmIHN0ZE1hdC5ibGVuZFR5cGUgIT09IEJMRU5EX05PTkUpID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMuYW1iaWVudFRpbnQgPSBzdGRNYXQuYW1iaWVudFRpbnQ7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZVRpbnQgPSBkaWZmdXNlVGludCA/IDIgOiAwO1xuICAgICAgICBvcHRpb25zLnNwZWN1bGFyVGludCA9IHNwZWN1bGFyVGludCA/IDIgOiAwO1xuICAgICAgICBvcHRpb25zLnNwZWN1bGFyaXR5RmFjdG9yVGludCA9IHNwZWN1bGFyaXR5RmFjdG9yVGludCA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLm1ldGFsbmVzc1RpbnQgPSAoc3RkTWF0LnVzZU1ldGFsbmVzcyAmJiBzdGRNYXQubWV0YWxuZXNzIDwgMSkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5nbG9zc1RpbnQgPSAxO1xuICAgICAgICBvcHRpb25zLmVtaXNzaXZlVGludCA9IChlbWlzc2l2ZVRpbnRDb2xvciA/IDIgOiAwKSArIChlbWlzc2l2ZVRpbnRJbnRlbnNpdHkgPyAxIDogMCk7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZUVuY29kaW5nID0gc3RkTWF0LmRpZmZ1c2VNYXA/LmVuY29kaW5nO1xuICAgICAgICBvcHRpb25zLmRpZmZ1c2VEZXRhaWxFbmNvZGluZyA9IHN0ZE1hdC5kaWZmdXNlRGV0YWlsTWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5lbWlzc2l2ZUVuY29kaW5nID0gc3RkTWF0LmVtaXNzaXZlTWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcEVuY29kaW5nID0gc3RkTWF0LmxpZ2h0TWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5wYWNrZWROb3JtYWwgPSBpc1BhY2tlZE5vcm1hbE1hcDtcbiAgICAgICAgb3B0aW9ucy5yZWZyYWN0aW9uVGludCA9IChzdGRNYXQucmVmcmFjdGlvbiAhPT0gMS4wKSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLnJlZnJhY3Rpb25JbmRleFRpbnQgPSAoc3RkTWF0LnJlZnJhY3Rpb25JbmRleCAhPT0gMS4wIC8gMS41KSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLnRoaWNrbmVzc1RpbnQgPSAoc3RkTWF0LnVzZUR5bmFtaWNSZWZyYWN0aW9uICYmIHN0ZE1hdC50aGlja25lc3MgIT09IDEuMCkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5zcGVjdWxhckVuY29kaW5nID0gc3RkTWF0LnNwZWN1bGFyRW5jb2RpbmcgfHwgJ2xpbmVhcic7XG4gICAgICAgIG9wdGlvbnMuc2hlZW5FbmNvZGluZyA9IHN0ZE1hdC5zaGVlbkVuY29kaW5nIHx8ICdsaW5lYXInO1xuICAgICAgICBvcHRpb25zLmFvTWFwVXYgPSBzdGRNYXQuYW9VdlNldDsgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlRGV0YWlsID0gISFzdGRNYXQuZGlmZnVzZU1hcDtcbiAgICAgICAgb3B0aW9ucy5ub3JtYWxEZXRhaWwgPSAhIXN0ZE1hdC5ub3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZURldGFpbE1vZGUgPSBzdGRNYXQuZGlmZnVzZURldGFpbE1vZGU7XG4gICAgICAgIG9wdGlvbnMuY2xlYXJDb2F0VGludCA9IChzdGRNYXQuY2xlYXJDb2F0ICE9PSAxLjApID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMuY2xlYXJDb2F0R2xvc3MgPSAhIXN0ZE1hdC5jbGVhckNvYXRHbG9zcztcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRHbG9zc1RpbnQgPSAoc3RkTWF0LmNsZWFyQ29hdEdsb3NzICE9PSAxLjApID8gMSA6IDA7XG5cbiAgICAgICAgb3B0aW9ucy5pcmlkZXNjZW5jZVRpbnQgPSBzdGRNYXQuaXJpZGVzY2VuY2UgIT09IDEuMCA/IDEgOiAwO1xuXG4gICAgICAgIG9wdGlvbnMuc2hlZW5UaW50ID0gKHN0ZE1hdC51c2VTaGVlbiAmJiBub3RXaGl0ZShzdGRNYXQuc2hlZW4pKSA/IDIgOiAwO1xuICAgICAgICBvcHRpb25zLnNoZWVuR2xvc3NUaW50ID0gMTtcblxuICAgICAgICBvcHRpb25zLmdsb3NzSW52ZXJ0ID0gc3RkTWF0Lmdsb3NzSW52ZXJ0O1xuICAgICAgICBvcHRpb25zLnNoZWVuR2xvc3NJbnZlcnQgPSBzdGRNYXQuc2hlZW5HbG9zc0ludmVydDtcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRHbG9zc0ludmVydCA9IHN0ZE1hdC5jbGVhckNvYXRHbG9zc0ludmVydDtcblxuICAgICAgICAvLyBMSVQgT1BUSU9OU1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQW1iaWVudFRpbnQgPSBvcHRpb25zLmFtYmllbnRUaW50O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY3VzdG9tRnJhZ21lbnRTaGFkZXIgPSBzdGRNYXQuY3VzdG9tRnJhZ21lbnRTaGFkZXI7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5waXhlbFNuYXAgPSBzdGRNYXQucGl4ZWxTbmFwO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VDbGVhckNvYXROb3JtYWxNYXAgPSAhIXN0ZE1hdC5jbGVhckNvYXROb3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VEaWZmdXNlTWFwID0gISFzdGRNYXQuZGlmZnVzZU1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUFvTWFwID0gISFzdGRNYXQuYW9NYXA7XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmRldGFpbE1vZGVzID0gISFvcHRpb25zLmRpZmZ1c2VEZXRhaWw7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5zaGFkaW5nTW9kZWwgPSBzdGRNYXQuc2hhZGluZ01vZGVsO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudFNIID0gISFzdGRNYXQuYW1iaWVudFNIO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZmFzdFRibiA9IHN0ZE1hdC5mYXN0VGJuO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudHdvU2lkZWRMaWdodGluZyA9IHN0ZE1hdC50d29TaWRlZExpZ2h0aW5nO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub2NjbHVkZVNwZWN1bGFyID0gc3RkTWF0Lm9jY2x1ZGVTcGVjdWxhcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm9jY2x1ZGVTcGVjdWxhckZsb2F0ID0gKHN0ZE1hdC5vY2NsdWRlU3BlY3VsYXJJbnRlbnNpdHkgIT09IDEuMCk7XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1zZGYgPSAhIXN0ZE1hdC5tc2RmTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubXNkZlRleHRBdHRyaWJ1dGUgPSAhIXN0ZE1hdC5tc2RmVGV4dEF0dHJpYnV0ZTtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYWxwaGFUb0NvdmVyYWdlID0gc3RkTWF0LmFscGhhVG9Db3ZlcmFnZTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm9wYWNpdHlGYWRlc1NwZWN1bGFyID0gc3RkTWF0Lm9wYWNpdHlGYWRlc1NwZWN1bGFyO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jdWJlTWFwUHJvamVjdGlvbiA9IHN0ZE1hdC5jdWJlTWFwUHJvamVjdGlvbjtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub2NjbHVkZURpcmVjdCA9IHN0ZE1hdC5vY2NsdWRlRGlyZWN0O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY29uc2VydmVFbmVyZ3kgPSBzdGRNYXQuY29uc2VydmVFbmVyZ3kgJiYgc3RkTWF0LnNoYWRpbmdNb2RlbCAhPT0gU1BFQ1VMQVJfUEhPTkc7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VTcGVjdWxhciA9IHVzZVNwZWN1bGFyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlU3BlY3VsYXJpdHlGYWN0b3IgPSAoc3BlY3VsYXJpdHlGYWN0b3JUaW50IHx8ICEhc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yTWFwKSAmJiBzdGRNYXQudXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZVNwZWN1bGFyQ29sb3IgPSB1c2VTcGVjdWxhckNvbG9yO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZW5hYmxlR0dYU3BlY3VsYXIgPSBzdGRNYXQuZW5hYmxlR0dYU3BlY3VsYXI7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5mcmVzbmVsTW9kZWwgPSBzdGRNYXQuZnJlc25lbE1vZGVsO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlUmVmcmFjdGlvbiA9IChzdGRNYXQucmVmcmFjdGlvbiB8fCAhIXN0ZE1hdC5yZWZyYWN0aW9uTWFwKSAmJiAoc3RkTWF0LnVzZUR5bmFtaWNSZWZyYWN0aW9uIHx8ICEhb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQ2xlYXJDb2F0ID0gISFzdGRNYXQuY2xlYXJDb2F0O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlU2hlZW4gPSBzdGRNYXQudXNlU2hlZW47XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VJcmlkZXNjZW5jZSA9IHN0ZE1hdC51c2VJcmlkZXNjZW5jZSAmJiBzdGRNYXQuaXJpZGVzY2VuY2UgIT09IDAuMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1ldGFsbmVzcyA9IHN0ZE1hdC51c2VNZXRhbG5lc3M7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VEeW5hbWljUmVmcmFjdGlvbiA9IHN0ZE1hdC51c2VEeW5hbWljUmVmcmFjdGlvbjtcbiAgICB9XG5cbiAgICBfdXBkYXRlRW52T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHNjZW5lKSB7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5mb2cgPSBzdGRNYXQudXNlRm9nID8gc2NlbmUuZm9nIDogJ25vbmUnO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZ2FtbWEgPSBzdGRNYXQudXNlR2FtbWFUb25lbWFwID8gc2NlbmUuZ2FtbWFDb3JyZWN0aW9uIDogR0FNTUFfTk9ORTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnRvbmVNYXAgPSBzdGRNYXQudXNlR2FtbWFUb25lbWFwID8gc2NlbmUudG9uZU1hcHBpbmcgOiAtMTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmZpeFNlYW1zID0gKHN0ZE1hdC5jdWJlTWFwID8gc3RkTWF0LmN1YmVNYXAuZml4Q3ViZW1hcFNlYW1zIDogZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGlzUGhvbmcgPSBzdGRNYXQuc2hhZGluZ01vZGVsID09PSBTUEVDVUxBUl9QSE9ORztcblxuICAgICAgICBsZXQgdXNpbmdTY2VuZUVudiA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHNvdXJjZSBvZiBlbnZpcm9ubWVudCByZWZsZWN0aW9ucyBpcyBhcyBmb2xsb3dzOlxuICAgICAgICBpZiAoc3RkTWF0LmVudkF0bGFzICYmIHN0ZE1hdC5jdWJlTWFwICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdlbnZBdGxhc0hRJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzdGRNYXQuZW52QXRsYXMuZW5jb2Rpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LmVudkF0bGFzICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdlbnZBdGxhcyc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc3RkTWF0LmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC5jdWJlTWFwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdjdWJlTWFwJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzdGRNYXQuY3ViZU1hcC5lbmNvZGluZztcbiAgICAgICAgfSBlbHNlIGlmIChzdGRNYXQuc3BoZXJlTWFwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdzcGhlcmVNYXAnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHN0ZE1hdC5zcGhlcmVNYXAuZW5jb2Rpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5lbnZBdGxhcyAmJiBzY2VuZS5za3lib3ggJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2VudkF0bGFzSFEnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHNjZW5lLmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICAgICAgdXNpbmdTY2VuZUVudiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5lbnZBdGxhcyAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnZW52QXRsYXMnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHNjZW5lLmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICAgICAgdXNpbmdTY2VuZUVudiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5za3lib3gpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2N1YmVNYXAnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHNjZW5lLnNreWJveC5lbmNvZGluZztcbiAgICAgICAgICAgIHVzaW5nU2NlbmVFbnYgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzb3VyY2Ugb2YgZW52aXJvbm1lbnQgYW1iaWVudCBpcyBhcyBmb2xsb3dzOlxuICAgICAgICBpZiAoc3RkTWF0LmFtYmllbnRTSCAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTb3VyY2UgPSAnYW1iaWVudFNIJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50RW5jb2RpbmcgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZW52QXRsYXMgPSBzdGRNYXQuZW52QXRsYXMgfHwgKHN0ZE1hdC51c2VTa3lib3ggJiYgc2NlbmUuZW52QXRsYXMgPyBzY2VuZS5lbnZBdGxhcyA6IG51bGwpO1xuICAgICAgICAgICAgaWYgKGVudkF0bGFzICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTb3VyY2UgPSAnZW52QXRsYXMnO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50RW5jb2RpbmcgPSBlbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTb3VyY2UgPSAnY29uc3RhbnQnO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50RW5jb2RpbmcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYWRkIGEgdGVzdCBmb3IgaWYgbm9uIHNreWJveCBjdWJlbWFwcyBoYXZlIHJvdGF0aW9uICh3aGVuIHRoaXMgaXMgc3VwcG9ydGVkKSAtIGZvciBub3cgYXNzdW1lIG5vIG5vbi1za3lib3ggY3ViZW1hcCByb3RhdGlvblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2t5Ym94SW50ZW5zaXR5ID0gdXNpbmdTY2VuZUVudiAmJiAoc2NlbmUuc2t5Ym94SW50ZW5zaXR5ICE9PSAxIHx8IHNjZW5lLnBoeXNpY2FsVW5pdHMpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQ3ViZU1hcFJvdGF0aW9uID0gdXNpbmdTY2VuZUVudiAmJiBzY2VuZS5za3lib3hSb3RhdGlvbiAmJiAhc2NlbmUuc2t5Ym94Um90YXRpb24uZXF1YWxzKFF1YXQuSURFTlRJVFkpO1xuICAgIH1cblxuICAgIF91cGRhdGVMaWdodE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgc29ydGVkTGlnaHRzLCBzdGF0aWNMaWdodExpc3QpIHtcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcCA9IGZhbHNlO1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwQ2hhbm5lbCA9ICcnO1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwVXYgPSAwO1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwVHJhbnNmb3JtID0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwV2l0aG91dEFtYmllbnQgPSBmYWxzZTtcbiAgICAgICAgb3B0aW9ucy5kaXJMaWdodE1hcCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChvYmpEZWZzKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubm9TaGFkb3cgPSAob2JqRGVmcyAmIFNIQURFUkRFRl9OT1NIQURPVykgIT09IDA7XG5cbiAgICAgICAgICAgIGlmICgob2JqRGVmcyAmIFNIQURFUkRFRl9MTSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwRW5jb2RpbmcgPSBzY2VuZS5saWdodG1hcFBpeGVsRm9ybWF0ID09PSBQSVhFTEZPUk1BVF9SR0JBOCA/ICdyZ2JtJyA6ICdsaW5lYXInO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXBDaGFubmVsID0gJ3JnYic7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcFV2ID0gMTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwVHJhbnNmb3JtID0gMDtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRNYXBXaXRob3V0QW1iaWVudCA9ICFzdGRNYXQubGlnaHRNYXA7XG4gICAgICAgICAgICAgICAgaWYgKChvYmpEZWZzICYgU0hBREVSREVGX0RJUkxNKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRpckxpZ2h0TWFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBsaWdodG1hcHMgY29udGFpbiBiYWtlZCBhbWJpZW50IGxpZ2h0LCBkaXNhYmxlIHJlYWwtdGltZSBhbWJpZW50IGxpZ2h0XG4gICAgICAgICAgICAgICAgaWYgKChvYmpEZWZzICYgU0hBREVSREVGX0xNQU1CSUVOVCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwV2l0aG91dEFtYmllbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RkTWF0LnVzZUxpZ2h0aW5nKSB7XG4gICAgICAgICAgICBjb25zdCBsaWdodHNGaWx0ZXJlZCA9IFtdO1xuICAgICAgICAgICAgY29uc3QgbWFzayA9IG9iakRlZnMgPyAob2JqRGVmcyA+PiAxNikgOiBNQVNLX0FGRkVDVF9EWU5BTUlDO1xuXG4gICAgICAgICAgICAvLyBtYXNrIHRvIHNlbGVjdCBsaWdodHMgKGR5bmFtaWMgdnMgbGlnaHRtYXBwZWQpIHdoZW4gdXNpbmcgY2x1c3RlcmVkIGxpZ2h0aW5nXG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRNYXNrRHluYW1pYyA9ICEhKG1hc2sgJiBNQVNLX0FGRkVDVF9EWU5BTUlDKTtcblxuICAgICAgICAgICAgaWYgKHNvcnRlZExpZ2h0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3RMaWdodHMoTElHSFRUWVBFX0RJUkVDVElPTkFMLCBzb3J0ZWRMaWdodHNbTElHSFRUWVBFX0RJUkVDVElPTkFMXSwgbGlnaHRzRmlsdGVyZWQsIG1hc2spO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3RMaWdodHMoTElHSFRUWVBFX09NTkksIHNvcnRlZExpZ2h0c1tMSUdIVFRZUEVfT01OSV0sIGxpZ2h0c0ZpbHRlcmVkLCBtYXNrLCBzdGF0aWNMaWdodExpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3RMaWdodHMoTElHSFRUWVBFX1NQT1QsIHNvcnRlZExpZ2h0c1tMSUdIVFRZUEVfU1BPVF0sIGxpZ2h0c0ZpbHRlcmVkLCBtYXNrLCBzdGF0aWNMaWdodExpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0cyA9IGxpZ2h0c0ZpbHRlcmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0cyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubm9TaGFkb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NvbGxlY3RMaWdodHMobFR5cGUsIGxpZ2h0cywgbGlnaHRzRmlsdGVyZWQsIG1hc2ssIHN0YXRpY0xpZ2h0TGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGlnaHQgPSBsaWdodHNbaV07XG4gICAgICAgICAgICBpZiAobGlnaHQuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGlmIChsaWdodC5tYXNrICYgbWFzaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobFR5cGUgIT09IExJR0hUVFlQRV9ESVJFQ1RJT05BTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpZ2h0LmlzU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGlnaHRzRmlsdGVyZWQucHVzaChsaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRpY0xpZ2h0TGlzdCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0aWNMaWdodExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaWdodCA9IHN0YXRpY0xpZ2h0TGlzdFtpXTtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQuX3R5cGUgPT09IGxUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0c0ZpbHRlcmVkLnB1c2gobGlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRNYXBUcmFuc2Zvcm1JRCh4Zm9ybSwgdXYpIHtcbiAgICAgICAgaWYgKCF4Zm9ybSkgcmV0dXJuIDA7XG5cbiAgICAgICAgbGV0IHhmb3JtcyA9IHRoaXMuX21hcFhGb3Jtc1t1dl07XG4gICAgICAgIGlmICgheGZvcm1zKSB7XG4gICAgICAgICAgICB4Zm9ybXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21hcFhGb3Jtc1t1dl0gPSB4Zm9ybXM7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFycmF5c0VxdWFsKHhmb3Jtc1tpXVswXS52YWx1ZSwgeGZvcm1bMF0udmFsdWUpICYmXG4gICAgICAgICAgICAgICAgYXJyYXlzRXF1YWwoeGZvcm1zW2ldWzFdLnZhbHVlLCB4Zm9ybVsxXS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geGZvcm1zLnB1c2goeGZvcm0pO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgU3RhbmRhcmRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIH07XG4iXSwibmFtZXMiOlsiYXJyYXlzRXF1YWwiLCJhIiwiYiIsImxlbmd0aCIsImkiLCJub3RXaGl0ZSIsImNvbG9yIiwiciIsImciLCJub3RCbGFjayIsIlN0YW5kYXJkTWF0ZXJpYWxPcHRpb25zQnVpbGRlciIsImNvbnN0cnVjdG9yIiwiX21hcFhGb3JtcyIsInVwZGF0ZU1pblJlZiIsIm9wdGlvbnMiLCJzY2VuZSIsInN0ZE1hdCIsIm9iakRlZnMiLCJzdGF0aWNMaWdodExpc3QiLCJwYXNzIiwic29ydGVkTGlnaHRzIiwiX3VwZGF0ZVNoYXJlZE9wdGlvbnMiLCJfdXBkYXRlTWluT3B0aW9ucyIsIl91cGRhdGVVVk9wdGlvbnMiLCJsaXRPcHRpb25zIiwiY2h1bmtzIiwidXBkYXRlUmVmIiwiX3VwZGF0ZUVudk9wdGlvbnMiLCJfdXBkYXRlTWF0ZXJpYWxPcHRpb25zIiwiU0hBREVSX0ZPUldBUkRIRFIiLCJnYW1tYSIsIkdBTU1BX1NSR0JIRFIiLCJ0b25lTWFwIiwiVE9ORU1BUF9MSU5FQVIiLCJoYXNUYW5nZW50cyIsIlNIQURFUkRFRl9UQU5HRU5UUyIsIl91cGRhdGVMaWdodE9wdGlvbnMiLCJmb3JjZVV2MSIsImFscGhhVGVzdCIsImZvcmNlRnJhZ21lbnRQcmVjaXNpb24iLCJibGVuZFR5cGUiLCJzZXBhcmF0ZUFtYmllbnQiLCJzY3JlZW5TcGFjZSIsIlNIQURFUkRFRl9TQ1JFRU5TUEFDRSIsInNraW4iLCJTSEFERVJERUZfU0tJTiIsInVzZUluc3RhbmNpbmciLCJTSEFERVJERUZfSU5TVEFOQ0lORyIsInVzZU1vcnBoUG9zaXRpb24iLCJTSEFERVJERUZfTU9SUEhfUE9TSVRJT04iLCJ1c2VNb3JwaE5vcm1hbCIsIlNIQURFUkRFRl9NT1JQSF9OT1JNQUwiLCJ1c2VNb3JwaFRleHR1cmVCYXNlZCIsIlNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VEIiwibmluZVNsaWNlZE1vZGUiLCJjbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQiLCJ1c2VMaWdodGluZyIsImNsdXN0ZXJlZExpZ2h0aW5nQ29va2llc0VuYWJsZWQiLCJsaWdodGluZyIsImNvb2tpZXNFbmFibGVkIiwiY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCIsInNoYWRvd3NFbmFibGVkIiwiY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dUeXBlIiwic2hhZG93VHlwZSIsImNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQiLCJhcmVhTGlnaHRzRW5hYmxlZCIsIm1pbmltYWxPcHRpb25zIiwiaGFzVXYwIiwiaGFzVXYxIiwiaGFzVmNvbG9yIiwiU0hBREVSREVGX1VWMCIsIlNIQURFUkRFRl9VVjEiLCJTSEFERVJERUZfVkNPTE9SIiwidmVydGV4Q29sb3JzIiwidW5pcXVlVGV4dHVyZU1hcCIsInAiLCJfbWF0VGV4MkQiLCJfdXBkYXRlVGV4T3B0aW9ucyIsImxpZ2h0TWFwRW5hYmxlZCIsImxpZ2h0TWFwIiwidXNlTGlnaHRNYXBWZXJ0ZXhDb2xvcnMiLCJsaWdodFZlcnRleENvbG9yIiwiZGlyTGlnaHRNYXBFbmFibGVkIiwiZGlyTGlnaHRNYXAiLCJoZWlnaHRNYXBFbmFibGVkIiwiaGVpZ2h0TWFwIiwibm9ybWFsTWFwRW5hYmxlZCIsIm5vcm1hbE1hcCIsImNsZWFyQ29hdE5vcm1hbE1hcEVuYWJsZWQiLCJjbGVhckNvYXROb3JtYWxNYXAiLCJhb01hcEVuYWJsZWQiLCJhb01hcCIsInVzZUFvVmVydGV4Q29sb3JzIiwiYW9WZXJ0ZXhDb2xvciIsImRpZmZ1c2VNYXBFbmFibGVkIiwiZGlmZnVzZU1hcCIsIm1uYW1lIiwidm5hbWUiLCJ2Y25hbWUiLCJjbmFtZSIsInRuYW1lIiwidW5hbWUiLCJpbmFtZSIsInVuZGVmaW5lZCIsImlzT3BhY2l0eSIsIkJMRU5EX05PTkUiLCJhbHBoYVRvQ292ZXJhZ2UiLCJhbGxvdyIsIm1hcElkIiwiaWQiLCJpZGVudGlmaWVyIiwiX2dldE1hcFRyYW5zZm9ybUlEIiwiZ2V0VW5pZm9ybSIsIm9wYWNpdHlUaW50Iiwib3BhY2l0eSIsImxpZ2h0cyIsIl9zdGRNYXQkZGlmZnVzZU1hcCIsIl9zdGRNYXQkZGlmZnVzZURldGFpbCIsIl9zdGRNYXQkZW1pc3NpdmVNYXAiLCJfc3RkTWF0JGxpZ2h0TWFwIiwiZGlmZnVzZVRpbnQiLCJkaWZmdXNlVmVydGV4Q29sb3IiLCJkaWZmdXNlIiwidXNlU3BlY3VsYXIiLCJ1c2VNZXRhbG5lc3MiLCJzcGVjdWxhck1hcCIsInNwaGVyZU1hcCIsImN1YmVNYXAiLCJzcGVjdWxhciIsInNwZWN1bGFyaXR5RmFjdG9yIiwiZW5hYmxlR0dYU3BlY3VsYXIiLCJjbGVhckNvYXQiLCJ1c2VTcGVjdWxhckNvbG9yIiwidXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvciIsInNwZWN1bGFyVGludCIsInNwZWN1bGFyVmVydGV4Q29sb3IiLCJzcGVjdWxhcml0eUZhY3RvclRpbnQiLCJzcGVjdWxhcml0eUZhY3Rvck1hcCIsImVtaXNzaXZlVGludENvbG9yIiwiZW1pc3NpdmVNYXAiLCJlbWlzc2l2ZSIsImVtaXNzaXZlVGludCIsImVtaXNzaXZlVGludEludGVuc2l0eSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiaXNQYWNrZWROb3JtYWxNYXAiLCJmb3JtYXQiLCJQSVhFTEZPUk1BVF9EWFQ1IiwidHlwZSIsIlRFWFRVUkVUWVBFX1NXSVpaTEVHR0dSIiwiYW1iaWVudFRpbnQiLCJtZXRhbG5lc3NUaW50IiwibWV0YWxuZXNzIiwiZ2xvc3NUaW50IiwiZGlmZnVzZUVuY29kaW5nIiwiZW5jb2RpbmciLCJkaWZmdXNlRGV0YWlsRW5jb2RpbmciLCJkaWZmdXNlRGV0YWlsTWFwIiwiZW1pc3NpdmVFbmNvZGluZyIsImxpZ2h0TWFwRW5jb2RpbmciLCJwYWNrZWROb3JtYWwiLCJyZWZyYWN0aW9uVGludCIsInJlZnJhY3Rpb24iLCJyZWZyYWN0aW9uSW5kZXhUaW50IiwicmVmcmFjdGlvbkluZGV4IiwidGhpY2tuZXNzVGludCIsInVzZUR5bmFtaWNSZWZyYWN0aW9uIiwidGhpY2tuZXNzIiwic3BlY3VsYXJFbmNvZGluZyIsInNoZWVuRW5jb2RpbmciLCJhb01hcFV2IiwiYW9VdlNldCIsImRpZmZ1c2VEZXRhaWwiLCJub3JtYWxEZXRhaWwiLCJkaWZmdXNlRGV0YWlsTW9kZSIsImNsZWFyQ29hdFRpbnQiLCJjbGVhckNvYXRHbG9zcyIsImNsZWFyQ29hdEdsb3NzVGludCIsImlyaWRlc2NlbmNlVGludCIsImlyaWRlc2NlbmNlIiwic2hlZW5UaW50IiwidXNlU2hlZW4iLCJzaGVlbiIsInNoZWVuR2xvc3NUaW50IiwiZ2xvc3NJbnZlcnQiLCJzaGVlbkdsb3NzSW52ZXJ0IiwiY2xlYXJDb2F0R2xvc3NJbnZlcnQiLCJ1c2VBbWJpZW50VGludCIsImN1c3RvbUZyYWdtZW50U2hhZGVyIiwicGl4ZWxTbmFwIiwidXNlQ2xlYXJDb2F0Tm9ybWFsTWFwIiwidXNlRGlmZnVzZU1hcCIsInVzZUFvTWFwIiwiZGV0YWlsTW9kZXMiLCJzaGFkaW5nTW9kZWwiLCJhbWJpZW50U0giLCJmYXN0VGJuIiwidHdvU2lkZWRMaWdodGluZyIsIm9jY2x1ZGVTcGVjdWxhciIsIm9jY2x1ZGVTcGVjdWxhckZsb2F0Iiwib2NjbHVkZVNwZWN1bGFySW50ZW5zaXR5IiwidXNlTXNkZiIsIm1zZGZNYXAiLCJtc2RmVGV4dEF0dHJpYnV0ZSIsIm9wYWNpdHlGYWRlc1NwZWN1bGFyIiwiY3ViZU1hcFByb2plY3Rpb24iLCJvY2NsdWRlRGlyZWN0IiwiY29uc2VydmVFbmVyZ3kiLCJTUEVDVUxBUl9QSE9ORyIsInVzZVNwZWN1bGFyaXR5RmFjdG9yIiwiZnJlc25lbE1vZGVsIiwidXNlUmVmcmFjdGlvbiIsInJlZnJhY3Rpb25NYXAiLCJyZWZsZWN0aW9uU291cmNlIiwidXNlQ2xlYXJDb2F0IiwidXNlSXJpZGVzY2VuY2UiLCJmb2ciLCJ1c2VGb2ciLCJ1c2VHYW1tYVRvbmVtYXAiLCJnYW1tYUNvcnJlY3Rpb24iLCJHQU1NQV9OT05FIiwidG9uZU1hcHBpbmciLCJmaXhTZWFtcyIsImZpeEN1YmVtYXBTZWFtcyIsImlzUGhvbmciLCJ1c2luZ1NjZW5lRW52IiwiZW52QXRsYXMiLCJyZWZsZWN0aW9uRW5jb2RpbmciLCJ1c2VTa3lib3giLCJza3lib3giLCJhbWJpZW50U291cmNlIiwiYW1iaWVudEVuY29kaW5nIiwic2t5Ym94SW50ZW5zaXR5IiwicGh5c2ljYWxVbml0cyIsInVzZUN1YmVNYXBSb3RhdGlvbiIsInNreWJveFJvdGF0aW9uIiwiZXF1YWxzIiwiUXVhdCIsIklERU5USVRZIiwibGlnaHRNYXBDaGFubmVsIiwibGlnaHRNYXBVdiIsImxpZ2h0TWFwVHJhbnNmb3JtIiwibGlnaHRNYXBXaXRob3V0QW1iaWVudCIsIm5vU2hhZG93IiwiU0hBREVSREVGX05PU0hBRE9XIiwiU0hBREVSREVGX0xNIiwibGlnaHRtYXBQaXhlbEZvcm1hdCIsIlBJWEVMRk9STUFUX1JHQkE4IiwiU0hBREVSREVGX0RJUkxNIiwiU0hBREVSREVGX0xNQU1CSUVOVCIsImxpZ2h0c0ZpbHRlcmVkIiwibWFzayIsIk1BU0tfQUZGRUNUX0RZTkFNSUMiLCJsaWdodE1hc2tEeW5hbWljIiwiX2NvbGxlY3RMaWdodHMiLCJMSUdIVFRZUEVfRElSRUNUSU9OQUwiLCJMSUdIVFRZUEVfT01OSSIsIkxJR0hUVFlQRV9TUE9UIiwibFR5cGUiLCJsaWdodCIsImVuYWJsZWQiLCJpc1N0YXRpYyIsInB1c2giLCJfdHlwZSIsInhmb3JtIiwidXYiLCJ4Zm9ybXMiLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFtQkEsTUFBTUEsV0FBVyxHQUFHQSxDQUFDQyxDQUFDLEVBQUVDLENBQUMsS0FBSztBQUMxQixFQUFBLElBQUlELENBQUMsQ0FBQ0UsTUFBTSxLQUFLRCxDQUFDLENBQUNDLE1BQU0sRUFBRTtBQUN2QixJQUFBLE9BQU8sS0FBSyxDQUFBO0FBQ2hCLEdBQUE7QUFDQSxFQUFBLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMs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
