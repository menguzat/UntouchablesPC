import { SEMANTIC_POSITION, SEMANTIC_BLENDWEIGHT, SEMANTIC_BLENDINDICES, SEMANTIC_COLOR, SEMANTIC_TEXCOORD0 } from '../../../platform/graphics/constants.js';
import { ShaderUtils } from '../../../platform/graphics/shader-utils.js';
import { shaderChunks } from '../chunks/chunks.js';
import { SHADER_DEPTH, SHADER_PICK } from '../../constants.js';
import { ShaderPass } from '../../shader-pass.js';
import { skinCode, begin, end, fogCode } from './common.js';

const basic = {
  generateKey: function (options) {
    let key = 'basic';
    if (options.fog) key += '_fog';
    if (options.alphaTest) key += '_atst';
    if (options.vertexColors) key += '_vcol';
    if (options.diffuseMap) key += '_diff';
    if (options.skin) key += '_skin';
    if (options.screenSpace) key += '_ss';
    if (options.useInstancing) key += '_inst';
    if (options.useMorphPosition) key += '_morphp';
    if (options.useMorphNormal) key += '_morphn';
    if (options.useMorphTextureBased) key += '_morpht';
    key += '_' + options.pass;
    return key;
  },
  createShaderDefinition: function (device, options) {
    // GENERATE ATTRIBUTES
    const attributes = {
      vertex_position: SEMANTIC_POSITION
    };
    if (options.skin) {
      attributes.vertex_boneWeights = SEMANTIC_BLENDWEIGHT;
      attributes.vertex_boneIndices = SEMANTIC_BLENDINDICES;
    }
    if (options.vertexColors) {
      attributes.vertex_color = SEMANTIC_COLOR;
    }
    if (options.diffuseMap) {
      attributes.vertex_texCoord0 = SEMANTIC_TEXCOORD0;
    }
    const shaderPassInfo = ShaderPass.get(device).getByIndex(options.pass);
    const shaderPassDefines = shaderPassInfo.shaderDefines;

    // GENERATE VERTEX SHADER
    let vshader = shaderPassDefines;

    // VERTEX SHADER DECLARATIONS
    vshader += shaderChunks.transformDeclVS;
    if (options.skin) {
      vshader += skinCode(device);
      vshader += shaderChunks.transformSkinnedVS;
    } else {
      vshader += shaderChunks.transformVS;
    }
    if (options.vertexColors) {
      vshader += 'attribute vec4 vertex_color;\n';
      vshader += 'varying vec4 vColor;\n';
    }
    if (options.diffuseMap) {
      vshader += 'attribute vec2 vertex_texCoord0;\n';
      vshader += 'varying vec2 vUv0;\n';
    }
    if (options.pass === SHADER_DEPTH) {
      vshader += 'varying float vDepth;\n';
      vshader += '#ifndef VIEWMATRIX\n';
      vshader += '#define VIEWMATRIX\n';
      vshader += 'uniform mat4 matrix_view;\n';
      vshader += '#endif\n';
      vshader += '#ifndef CAMERAPLANES\n';
      vshader += '#define CAMERAPLANES\n';
      vshader += 'uniform vec4 camera_params;\n\n';
      vshader += '#endif\n';
    }

    // VERTEX SHADER BODY
    vshader += begin();
    vshader += "   gl_Position = getPosition();\n";
    if (options.pass === SHADER_DEPTH) {
      vshader += "    vDepth = -(matrix_view * vec4(getWorldPosition(),1.0)).z * camera_params.x;\n";
    }
    if (options.vertexColors) {
      vshader += '    vColor = vertex_color;\n';
    }
    if (options.diffuseMap) {
      vshader += '    vUv0 = vertex_texCoord0;\n';
    }
    vshader += end();

    // GENERATE FRAGMENT SHADER
    let fshader = shaderPassDefines;

    // FRAGMENT SHADER DECLARATIONS
    if (options.vertexColors) {
      fshader += 'varying vec4 vColor;\n';
    } else {
      fshader += 'uniform vec4 uColor;\n';
    }
    if (options.diffuseMap) {
      fshader += 'varying vec2 vUv0;\n';
      fshader += 'uniform sampler2D texture_diffuseMap;\n';
    }
    if (options.fog) {
      fshader += fogCode(options.fog);
    }
    if (options.alphaTest) {
      fshader += shaderChunks.alphaTestPS;
    }
    if (options.pass === SHADER_DEPTH) {
      // ##### SCREEN DEPTH PASS #####
      fshader += 'varying float vDepth;\n';
      fshader += shaderChunks.packDepthPS;
    }

    // FRAGMENT SHADER BODY
    fshader += begin();

    // Read the map texels that the shader needs
    if (options.vertexColors) {
      fshader += '    gl_FragColor = vColor;\n';
    } else {
      fshader += '    gl_FragColor = uColor;\n';
    }
    if (options.diffuseMap) {
      fshader += '    gl_FragColor *= texture2D(texture_diffuseMap, vUv0);\n';
    }
    if (options.alphaTest) {
      fshader += "   alphaTest(gl_FragColor.a);\n";
    }
    if (options.pass !== SHADER_PICK) {
      if (options.pass === SHADER_DEPTH) {
        // ##### SCREEN DEPTH PASS #####
        fshader += "    gl_FragColor = packFloat(vDepth);\n";
      } else {
        // ##### FORWARD PASS #####
        if (options.fog) {
          fshader += "   glFragColor.rgb = addFog(gl_FragColor.rgb);\n";
        }
      }
    }
    fshader += end();
    return ShaderUtils.createDefinition(device, {
      name: 'BasicShader',
      attributes: attributes,
      vertexCode: vshader,
      fragmentCode: fshader
    });
  }
};

export { basic };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzaWMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9zY2VuZS9zaGFkZXItbGliL3Byb2dyYW1zL2Jhc2ljLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgU0VNQU5USUNfQkxFTkRJTkRJQ0VTLCBTRU1BTlRJQ19CTEVORFdFSUdIVCwgU0VNQU5USUNfQ09MT1IsIFNFTUFOVElDX1BPU0lUSU9OLCBTRU1BTlRJQ19URVhDT09SRDBcbn0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFNoYWRlclV0aWxzIH0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3Mvc2hhZGVyLXV0aWxzLmpzJztcbmltcG9ydCB7IHNoYWRlckNodW5rcyB9IGZyb20gJy4uL2NodW5rcy9jaHVua3MuanMnO1xuXG5pbXBvcnQge1xuICAgIFNIQURFUl9ERVBUSCwgU0hBREVSX1BJQ0tcbn0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICcuLi8uLi9zaGFkZXItcGFzcy5qcyc7XG5cbmltcG9ydCB7IGJlZ2luLCBlbmQsIGZvZ0NvZGUsIHNraW5Db2RlIH0gZnJvbSAnLi9jb21tb24uanMnO1xuXG5jb25zdCBiYXNpYyA9IHtcbiAgICBnZW5lcmF0ZUtleTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGtleSA9ICdiYXNpYyc7XG4gICAgICAgIGlmIChvcHRpb25zLmZvZykgICAgICAgICAgICAgICAgICAgIGtleSArPSAnX2ZvZyc7XG4gICAgICAgIGlmIChvcHRpb25zLmFscGhhVGVzdCkgICAgICAgICAgICAgIGtleSArPSAnX2F0c3QnO1xuICAgICAgICBpZiAob3B0aW9ucy52ZXJ0ZXhDb2xvcnMpICAgICAgICAgICBrZXkgKz0gJ192Y29sJztcbiAgICAgICAgaWYgKG9wdGlvbnMuZGlmZnVzZU1hcCkgICAgICAgICAgICAga2V5ICs9ICdfZGlmZic7XG4gICAgICAgIGlmIChvcHRpb25zLnNraW4pICAgICAgICAgICAgICAgICAgIGtleSArPSAnX3NraW4nO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNjcmVlblNwYWNlKSAgICAgICAgICAgIGtleSArPSAnX3NzJztcbiAgICAgICAgaWYgKG9wdGlvbnMudXNlSW5zdGFuY2luZykgICAgICAgICAga2V5ICs9ICdfaW5zdCc7XG4gICAgICAgIGlmIChvcHRpb25zLnVzZU1vcnBoUG9zaXRpb24pICAgICAgIGtleSArPSAnX21vcnBocCc7XG4gICAgICAgIGlmIChvcHRpb25zLnVzZU1vcnBoTm9ybWFsKSAgICAgICAgIGtleSArPSAnX21vcnBobic7XG4gICAgICAgIGlmIChvcHRpb25zLnVzZU1vcnBoVGV4dHVyZUJhc2VkKSAgIGtleSArPSAnX21vcnBodCc7XG5cbiAgICAgICAga2V5ICs9ICdfJyArIG9wdGlvbnMucGFzcztcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICB9LFxuXG4gICAgY3JlYXRlU2hhZGVyRGVmaW5pdGlvbjogZnVuY3Rpb24gKGRldmljZSwgb3B0aW9ucykge1xuICAgICAgICAvLyBHRU5FUkFURSBBVFRSSUJVVEVTXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgICB2ZXJ0ZXhfcG9zaXRpb246IFNFTUFOVElDX1BPU0lUSU9OXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRpb25zLnNraW4pIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMudmVydGV4X2JvbmVXZWlnaHRzID0gU0VNQU5USUNfQkxFTkRXRUlHSFQ7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLnZlcnRleF9ib25lSW5kaWNlcyA9IFNFTUFOVElDX0JMRU5ESU5ESUNFUztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy52ZXJ0ZXhDb2xvcnMpIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMudmVydGV4X2NvbG9yID0gU0VNQU5USUNfQ09MT1I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZGlmZnVzZU1hcCkge1xuICAgICAgICAgICAgYXR0cmlidXRlcy52ZXJ0ZXhfdGV4Q29vcmQwID0gU0VNQU5USUNfVEVYQ09PUkQwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2hhZGVyUGFzc0luZm8gPSBTaGFkZXJQYXNzLmdldChkZXZpY2UpLmdldEJ5SW5kZXgob3B0aW9ucy5wYXNzKTtcbiAgICAgICAgY29uc3Qgc2hhZGVyUGFzc0RlZmluZXMgPSBzaGFkZXJQYXNzSW5mby5zaGFkZXJEZWZpbmVzO1xuXG4gICAgICAgIC8vIEdFTkVSQVRFIFZFUlRFWCBTSEFERVJcbiAgICAgICAgbGV0IHZzaGFkZXIgPSBzaGFkZXJQYXNzRGVmaW5lcztcblxuICAgICAgICAvLyBWRVJURVggU0hBREVSIERFQ0xBUkFUSU9OU1xuICAgICAgICB2c2hhZGVyICs9IHNoYWRlckNodW5rcy50cmFuc2Zvcm1EZWNsVlM7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpbikge1xuICAgICAgICAgICAgdnNoYWRlciArPSBza2luQ29kZShkZXZpY2UpO1xuICAgICAgICAgICAgdnNoYWRlciArPSBzaGFkZXJDaHVua3MudHJhbnNmb3JtU2tpbm5lZFZTO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdnNoYWRlciArPSBzaGFkZXJDaHVua3MudHJhbnNmb3JtVlM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy52ZXJ0ZXhDb2xvcnMpIHtcbiAgICAgICAgICAgIHZzaGFkZXIgKz0gJ2F0dHJpYnV0ZSB2ZWM0IHZlcnRleF9jb2xvcjtcXG4nO1xuICAgICAgICAgICAgdnNoYWRlciArPSAndmFyeWluZyB2ZWM0IHZDb2xvcjtcXG4nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmRpZmZ1c2VNYXApIHtcbiAgICAgICAgICAgIHZzaGFkZXIgKz0gJ2F0dHJpYnV0ZSB2ZWMyIHZlcnRleF90ZXhDb29yZDA7XFxuJztcbiAgICAgICAgICAgIHZzaGFkZXIgKz0gJ3ZhcnlpbmcgdmVjMiB2VXYwO1xcbic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5wYXNzID09PSBTSEFERVJfREVQVEgpIHtcbiAgICAgICAgICAgIHZzaGFkZXIgKz0gJ3ZhcnlpbmcgZmxvYXQgdkRlcHRoO1xcbic7XG4gICAgICAgICAgICB2c2hhZGVyICs9ICcjaWZuZGVmIFZJRVdNQVRSSVhcXG4nO1xuICAgICAgICAgICAgdnNoYWRlciArPSAnI2RlZmluZSBWSUVXTUFUUklYXFxuJztcbiAgICAgICAgICAgIHZzaGFkZXIgKz0gJ3VuaWZvcm0gbWF0NCBtYXRyaXhfdmlldztcXG4nO1xuICAgICAgICAgICAgdnNoYWRlciArPSAnI2VuZGlmXFxuJztcbiAgICAgICAgICAgIHZzaGFkZXIgKz0gJyNpZm5kZWYgQ0FNRVJBUExBTkVTXFxuJztcbiAgICAgICAgICAgIHZzaGFkZXIgKz0gJyNkZWZpbmUgQ0FNRVJBUExBTkVTXFxuJztcbiAgICAgICAgICAgIHZzaGFkZXIgKz0gJ3VuaWZvcm0gdmVjNCBjYW1lcmFfcGFyYW1zO1xcblxcbic7XG4gICAgICAgICAgICB2c2hhZGVyICs9ICcjZW5kaWZcXG4nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVkVSVEVYIFNIQURFUiBCT0RZXG4gICAgICAgIHZzaGFkZXIgKz0gYmVnaW4oKTtcblxuICAgICAgICB2c2hhZGVyICs9IFwiICAgZ2xfUG9zaXRpb24gPSBnZXRQb3NpdGlvbigpO1xcblwiO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnBhc3MgPT09IFNIQURFUl9ERVBUSCkge1xuICAgICAgICAgICAgdnNoYWRlciArPSBcIiAgICB2RGVwdGggPSAtKG1hdHJpeF92aWV3ICogdmVjNChnZXRXb3JsZFBvc2l0aW9uKCksMS4wKSkueiAqIGNhbWVyYV9wYXJhbXMueDtcXG5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnZlcnRleENvbG9ycykge1xuICAgICAgICAgICAgdnNoYWRlciArPSAnICAgIHZDb2xvciA9IHZlcnRleF9jb2xvcjtcXG4nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmRpZmZ1c2VNYXApIHtcbiAgICAgICAgICAgIHZzaGFkZXIgKz0gJyAgICB2VXYwID0gdmVydGV4X3RleENvb3JkMDtcXG4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdnNoYWRlciArPSBlbmQoKTtcblxuICAgICAgICAvLyBHRU5FUkFURSBGUkFHTUVOVCBTSEFERVJcbiAgICAgICAgbGV0IGZzaGFkZXIgPSBzaGFkZXJQYXNzRGVmaW5lcztcblxuICAgICAgICAvLyBGUkFHTUVOVCBTSEFERVIgREVDTEFSQVRJT05TXG4gICAgICAgIGlmIChvcHRpb25zLnZlcnRleENvbG9ycykge1xuICAgICAgICAgICAgZnNoYWRlciArPSAndmFyeWluZyB2ZWM0IHZDb2xvcjtcXG4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnNoYWRlciArPSAndW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG4nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmRpZmZ1c2VNYXApIHtcbiAgICAgICAgICAgIGZzaGFkZXIgKz0gJ3ZhcnlpbmcgdmVjMiB2VXYwO1xcbic7XG4gICAgICAgICAgICBmc2hhZGVyICs9ICd1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlX2RpZmZ1c2VNYXA7XFxuJztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5mb2cpIHtcbiAgICAgICAgICAgIGZzaGFkZXIgKz0gZm9nQ29kZShvcHRpb25zLmZvZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuYWxwaGFUZXN0KSB7XG4gICAgICAgICAgICBmc2hhZGVyICs9IHNoYWRlckNodW5rcy5hbHBoYVRlc3RQUztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnBhc3MgPT09IFNIQURFUl9ERVBUSCkge1xuICAgICAgICAgICAgLy8gIyMjIyMgU0NSRUVOIERFUFRIIFBBU1MgIyMjIyNcbiAgICAgICAgICAgIGZzaGFkZXIgKz0gJ3ZhcnlpbmcgZmxvYXQgdkRlcHRoO1xcbic7XG4gICAgICAgICAgICBmc2hhZGVyICs9IHNoYWRlckNodW5rcy5wYWNrRGVwdGhQUztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZSQUdNRU5UIFNIQURFUiBCT0RZXG4gICAgICAgIGZzaGFkZXIgKz0gYmVnaW4oKTtcblxuICAgICAgICAvLyBSZWFkIHRoZSBtYXAgdGV4ZWxzIHRoYXQgdGhlIHNoYWRlciBuZWVkc1xuICAgICAgICBpZiAob3B0aW9ucy52ZXJ0ZXhDb2xvcnMpIHtcbiAgICAgICAgICAgIGZzaGFkZXIgKz0gJyAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZzaGFkZXIgKz0gJyAgICBnbF9GcmFnQ29sb3IgPSB1Q29sb3I7XFxuJztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5kaWZmdXNlTWFwKSB7XG4gICAgICAgICAgICBmc2hhZGVyICs9ICcgICAgZ2xfRnJhZ0NvbG9yICo9IHRleHR1cmUyRCh0ZXh0dXJlX2RpZmZ1c2VNYXAsIHZVdjApO1xcbic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5hbHBoYVRlc3QpIHtcbiAgICAgICAgICAgIGZzaGFkZXIgKz0gXCIgICBhbHBoYVRlc3QoZ2xfRnJhZ0NvbG9yLmEpO1xcblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucGFzcyAhPT0gU0hBREVSX1BJQ0spIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnBhc3MgPT09IFNIQURFUl9ERVBUSCkge1xuICAgICAgICAgICAgICAgIC8vICMjIyMjIFNDUkVFTiBERVBUSCBQQVNTICMjIyMjXG4gICAgICAgICAgICAgICAgZnNoYWRlciArPSBcIiAgICBnbF9GcmFnQ29sb3IgPSBwYWNrRmxvYXQodkRlcHRoKTtcXG5cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gIyMjIyMgRk9SV0FSRCBQQVNTICMjIyMjXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZm9nKSB7XG4gICAgICAgICAgICAgICAgICAgIGZzaGFkZXIgKz0gXCIgICBnbEZyYWdDb2xvci5yZ2IgPSBhZGRGb2coZ2xfRnJhZ0NvbG9yLnJnYik7XFxuXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnNoYWRlciArPSBlbmQoKTtcblxuICAgICAgICByZXR1cm4gU2hhZGVyVXRpbHMuY3JlYXRlRGVmaW5pdGlvbihkZXZpY2UsIHtcbiAgICAgICAgICAgIG5hbWU6ICdCYXNpY1NoYWRlcicsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgdmVydGV4Q29kZTogdnNoYWRlcixcbiAgICAgICAgICAgIGZyYWdtZW50Q29kZTogZnNoYWRlclxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBiYXNpYyB9O1xuIl0sIm5hbWVzIjpbImJhc2ljIiwiZ2VuZXJhdGVLZXkiLCJvcHRpb25zIiwia2V5IiwiZm9nIiwiYWxwaGFUZXN0IiwidmVydGV4Q29sb3JzIiwiZGlmZnVzZU1hcCIsInNraW4iLCJzY3JlZW5TcGFjZSIsInVzZUluc3RhbmNpbmciLCJ1c2VNb3JwaFBvc2l0aW9uIiwidXNlTW9ycGhOb3JtYWwiLCJ1c2VNb3JwaFRleHR1cmVCYXNlZCIsInBhc3MiLCJjcmVhdGVTaGFkZXJEZWZpbml0aW9uIiwiZGV2aWNlIiwiYXR0cmlidXRlcyIsInZlcnRleF9wb3NpdGlvbiIsIlNFTUFOVElDX1BPU0lUSU9OIiwidmVydGV4X2JvbmVXZWlnaHRzIiwiU0VNQU5USUNfQkxFTkRXRUlHSFQiLCJ2ZXJ0ZXhfYm9uZUluZGljZXMiLCJTRU1BTlRJQ19CTEVORElORElDRVMiLCJ2ZXJ0ZXhfY29sb3IiLCJTRU1BTlRJQ19DT0xPUiIsInZlcnRleF90ZXhDb29yZDAiLCJTRU1BTlRJQ19URVhDT09SRDAiLCJzaGFkZXJQYXNzSW5mbyIsIlNoYWRlclBhc3MiLCJnZXQiLCJnZXRCeUluZGV4Iiwic2hhZGVyUGFzc0RlZmluZXMiLCJzaGFkZXJEZWZpbmVzIiwidnNoYWRlciIsInNoYWRlckNodW5rcyIsInRyYW5zZm9ybURlY2xWUyIsInNraW5Db2RlIiwidHJhbnNmb3JtU2tpbm5lZFZTIiwidHJhbnNmb3JtVlMiLCJTSEFERVJfREVQVEgiLCJiZWdpbiIsImVuZCIsImZzaGFkZXIiLCJmb2dDb2RlIiwiYWxwaGFUZXN0UFMiLCJwYWNrRGVwdGhQUyIsIlNIQURFUl9QSUNLIiwiU2hhZGVyVXRpbHMiLCJjcmVhdGVEZWZpbml0aW9uIiwibmFtZSIsInZlcnRleENvZGUiLCJmcmFnbWVudENvZGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFhQSxNQUFNQSxLQUFLLEdBQUc7QUFDVkMsRUFBQUEsV0FBVyxFQUFFLFVBQVVDLE9BQU8sRUFBRTtJQUM1QixJQUFJQyxHQUFHLEdBQUcsT0FBTyxDQUFBO0FBQ2pCLElBQUEsSUFBSUQsT0FBTyxDQUFDRSxHQUFHLEVBQXFCRCxHQUFHLElBQUksTUFBTSxDQUFBO0FBQ2pELElBQUEsSUFBSUQsT0FBTyxDQUFDRyxTQUFTLEVBQWVGLEdBQUcsSUFBSSxPQUFPLENBQUE7QUFDbEQsSUFBQSxJQUFJRCxPQUFPLENBQUNJLFlBQVksRUFBWUgsR0FBRyxJQUFJLE9BQU8sQ0FBQTtBQUNsRCxJQUFBLElBQUlELE9BQU8sQ0FBQ0ssVUFBVSxFQUFjSixHQUFHLElBQUksT0FBTyxDQUFBO0FBQ2xELElBQUEsSUFBSUQsT0FBTyxDQUFDTSxJQUFJLEVBQW9CTCxHQUFHLElBQUksT0FBTyxDQUFBO0FBRWxELElBQUEsSUFBSUQsT0FBTyxDQUFDTyxXQUFXLEVBQWFOLEdBQUcsSUFBSSxLQUFLLENBQUE7QUFDaEQsSUFBQSxJQUFJRCxPQUFPLENB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
