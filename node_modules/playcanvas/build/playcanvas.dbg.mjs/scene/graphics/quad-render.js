import { Debug, DebugHelper } from '../../core/debug.js';
import { Vec4 } from '../../core/math/vec4.js';
import { BindGroup } from '../../platform/graphics/bind-group.js';
import { BINDGROUP_MESH, PRIMITIVE_TRISTRIP } from '../../platform/graphics/constants.js';
import { DebugGraphics } from '../../platform/graphics/debug-graphics.js';
import { ShaderProcessorOptions } from '../../platform/graphics/shader-processor-options.js';
import { UniformBuffer } from '../../platform/graphics/uniform-buffer.js';
import { processShader } from '../shader-lib/utils.js';

const _quadPrimitive = {
  type: PRIMITIVE_TRISTRIP,
  base: 0,
  count: 4,
  indexed: false
};
const _tempViewport = new Vec4();
const _tempScissor = new Vec4();

/**
 * An object that renders a quad using a {@link Shader}.
 *
 * Example:
 *
 * ```javascript
 * const shader = pc.createShaderFromCode(app.graphicsDevice, vertexShader, fragmentShader, `MyShader`);
 * const quad = new QuadRender(shader);
 * quad.render();
 * quad.destroy();
 * ```
 */
class QuadRender {
  /**
   * Create a new QuadRender instance.
   *
   * @param {import('../../platform/graphics/shader.js').Shader} shader - The shader to be used to render the quad.
   */
  constructor(shader) {
    /**
     * @type {UniformBuffer}
     * @ignore
     */
    this.uniformBuffer = void 0;
    /**
     * @type {BindGroup}
     * @ignore
     */
    this.bindGroup = void 0;
    const device = shader.device;
    this.shader = shader;
    Debug.assert(shader);
    if (device.supportsUniformBuffers) {
      // add uniform buffer support to shader
      const processingOptions = new ShaderProcessorOptions();
      this.shader = processShader(shader, processingOptions);

      // uniform buffer
      const ubFormat = this.shader.meshUniformBufferFormat;
      if (ubFormat) {
        this.uniformBuffer = new UniformBuffer(device, ubFormat);
      }

      // bind group
      const bindGroupFormat = this.shader.meshBindGroupFormat;
      Debug.assert(bindGroupFormat);
      this.bindGroup = new BindGroup(device, bindGroupFormat, this.uniformBuffer);
      DebugHelper.setName(this.bindGroup, `QuadRender-MeshBindGroup_${this.bindGroup.id}`);
    }
  }

  /**
   * Destroys the resources associated with this instance.
   */
  destroy() {
    var _this$uniformBuffer, _this$bindGroup;
    (_this$uniformBuffer = this.uniformBuffer) == null ? void 0 : _this$uniformBuffer.destroy();
    this.uniformBuffer = null;
    (_this$bindGroup = this.bindGroup) == null ? void 0 : _this$bindGroup.destroy();
    this.bindGroup = null;
  }

  /**
   * Renders the quad. If the viewport is provided, the original viewport and scissor is restored
   * after the rendering.
   *
   * @param {import('../../core/math/vec4.js').Vec4} [viewport] - The viewport rectangle of the
   * quad, in pixels. The viewport is not changed if not provided.
   * @param {import('../../core/math/vec4.js').Vec4} [scissor] - The scissor rectangle of the
   * quad, in pixels. Used only if the viewport is provided.
   */
  render(viewport, scissor) {
    const device = this.shader.device;
    DebugGraphics.pushGpuMarker(device, "QuadRender");

    // only modify viewport or scissor if viewport supplied
    if (viewport) {
      var _scissor;
      // backup current settings
      _tempViewport.set(device.vx, device.vy, device.vw, device.vh);
      _tempScissor.set(device.sx, device.sy, device.sw, device.sh);

      // set new values
      scissor = (_scissor = scissor) != null ? _scissor : viewport;
      device.setViewport(viewport.x, viewport.y, viewport.z, viewport.w);
      device.setScissor(scissor.x, scissor.y, scissor.z, scissor.w);
    }
    device.setVertexBuffer(device.quadVertexBuffer, 0);
    const shader = this.shader;
    device.setShader(shader);
    if (device.supportsUniformBuffers) {
      const bindGroup = this.bindGroup;
      if (bindGroup.defaultUniformBuffer) {
        bindGroup.defaultUniformBuffer.update();
      }
      bindGroup.update();
      device.setBindGroup(BINDGROUP_MESH, bindGroup);
    }
    device.draw(_quadPrimitive);

    // restore if changed
    if (viewport) {
      device.setViewport(_tempViewport.x, _tempViewport.y, _tempViewport.z, _tempViewport.w);
      device.setScissor(_tempScissor.x, _tempScissor.y, _tempScissor.z, _tempScissor.w);
    }
    DebugGraphics.popGpuMarker(device);
  }
}

export { QuadRender };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVhZC1yZW5kZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9zY2VuZS9ncmFwaGljcy9xdWFkLXJlbmRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWJ1ZywgRGVidWdIZWxwZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9kZWJ1Zy5qc1wiO1xuaW1wb3J0IHsgVmVjNCB9IGZyb20gXCIuLi8uLi9jb3JlL21hdGgvdmVjNC5qc1wiO1xuaW1wb3J0IHsgQmluZEdyb3VwIH0gZnJvbSBcIi4uLy4uL3BsYXRmb3JtL2dyYXBoaWNzL2JpbmQtZ3JvdXAuanNcIjtcbmltcG9ydCB7IEJJTkRHUk9VUF9NRVNILCBQUklNSVRJVkVfVFJJU1RSSVAgfSBmcm9tIFwiLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBEZWJ1Z0dyYXBoaWNzIH0gZnJvbSBcIi4uLy4uL3BsYXRmb3JtL2dyYXBoaWNzL2RlYnVnLWdyYXBoaWNzLmpzXCI7XG5pbXBvcnQgeyBTaGFkZXJQcm9jZXNzb3JPcHRpb25zIH0gZnJvbSBcIi4uLy4uL3BsYXRmb3JtL2dyYXBoaWNzL3NoYWRlci1wcm9jZXNzb3Itb3B0aW9ucy5qc1wiO1xuaW1wb3J0IHsgVW5pZm9ybUJ1ZmZlciB9IGZyb20gXCIuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy91bmlmb3JtLWJ1ZmZlci5qc1wiO1xuaW1wb3J0IHsgcHJvY2Vzc1NoYWRlciB9IGZyb20gXCIuLi9zaGFkZXItbGliL3V0aWxzLmpzXCI7XG5cbmNvbnN0IF9xdWFkUHJpbWl0aXZlID0ge1xuICAgIHR5cGU6IFBSSU1JVElWRV9UUklTVFJJUCxcbiAgICBiYXNlOiAwLFxuICAgIGNvdW50OiA0LFxuICAgIGluZGV4ZWQ6IGZhbHNlXG59O1xuXG5jb25zdCBfdGVtcFZpZXdwb3J0ID0gbmV3IFZlYzQoKTtcbmNvbnN0IF90ZW1wU2Npc3NvciA9IG5ldyBWZWM0KCk7XG5cbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgcmVuZGVycyBhIHF1YWQgdXNpbmcgYSB7QGxpbmsgU2hhZGVyfS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IHNoYWRlciA9IHBjLmNyZWF0ZVNoYWRlckZyb21Db2RlKGFwcC5ncmFwaGljc0RldmljZSwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgYE15U2hhZGVyYCk7XG4gKiBjb25zdCBxdWFkID0gbmV3IFF1YWRSZW5kZXIoc2hhZGVyKTtcbiAqIHF1YWQucmVuZGVyKCk7XG4gKiBxdWFkLmRlc3Ryb3koKTtcbiAqIGBgYFxuICovXG5jbGFzcyBRdWFkUmVuZGVyIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VW5pZm9ybUJ1ZmZlcn1cbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdW5pZm9ybUJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCaW5kR3JvdXB9XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIGJpbmRHcm91cDtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBRdWFkUmVuZGVyIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL3BsYXRmb3JtL2dyYXBoaWNzL3NoYWRlci5qcycpLlNoYWRlcn0gc2hhZGVyIC0gVGhlIHNoYWRlciB0byBiZSB1c2VkIHRvIHJlbmRlciB0aGUgcXVhZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzaGFkZXIpIHtcblxuICAgICAgICBjb25zdCBkZXZpY2UgPSBzaGFkZXIuZGV2aWNlO1xuICAgICAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcbiAgICAgICAgRGVidWcuYXNzZXJ0KHNoYWRlcik7XG5cbiAgICAgICAgaWYgKGRldmljZS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzKSB7XG5cbiAgICAgICAgICAgIC8vIGFkZCB1bmlmb3JtIGJ1ZmZlciBzdXBwb3J0IHRvIHNoYWRlclxuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2luZ09wdGlvbnMgPSBuZXcgU2hhZGVyUHJvY2Vzc29yT3B0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBwcm9jZXNzU2hhZGVyKHNoYWRlciwgcHJvY2Vzc2luZ09wdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyB1bmlmb3JtIGJ1ZmZlclxuICAgICAgICAgICAgY29uc3QgdWJGb3JtYXQgPSB0aGlzLnNoYWRlci5tZXNoVW5pZm9ybUJ1ZmZlckZvcm1hdDtcbiAgICAgICAgICAgIGlmICh1YkZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUJ1ZmZlciA9IG5ldyBVbmlmb3JtQnVmZmVyKGRldmljZSwgdWJGb3JtYXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBiaW5kIGdyb3VwXG4gICAgICAgICAgICBjb25zdCBiaW5kR3JvdXBGb3JtYXQgPSB0aGlzLnNoYWRlci5tZXNoQmluZEdyb3VwRm9ybWF0O1xuICAgICAgICAgICAgRGVidWcuYXNzZXJ0KGJpbmRHcm91cEZvcm1hdCk7XG4gICAgICAgICAgICB0aGlzLmJpbmRHcm91cCA9IG5ldyBCaW5kR3JvdXAoZGV2aWNlLCBiaW5kR3JvdXBGb3JtYXQsIHRoaXMudW5pZm9ybUJ1ZmZlcik7XG4gICAgICAgICAgICBEZWJ1Z0hlbHBlci5zZXROYW1lKHRoaXMuYmluZEdyb3VwLCBgUXVhZFJlbmRlci1NZXNoQmluZEdyb3VwXyR7dGhpcy5iaW5kR3JvdXAuaWR9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybUJ1ZmZlcj8uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnVuaWZvcm1CdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuYmluZEdyb3VwPy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuYmluZEdyb3VwID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBxdWFkLiBJZiB0aGUgdmlld3BvcnQgaXMgcHJvdmlkZWQsIHRoZSBvcmlnaW5hbCB2aWV3cG9ydCBhbmQgc2Npc3NvciBpcyByZXN0b3JlZFxuICAgICAqIGFmdGVyIHRoZSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vY29yZS9tYXRoL3ZlYzQuanMnKS5WZWM0fSBbdmlld3BvcnRdIC0gVGhlIHZpZXdwb3J0IHJlY3RhbmdsZSBvZiB0aGVcbiAgICAgKiBxdWFkLCBpbiBwaXhlbHMuIFRoZSB2aWV3cG9ydCBpcyBub3QgY2hhbmdlZCBpZiBub3QgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uLy4uL2NvcmUvbWF0aC92ZWM0LmpzJykuVmVjNH0gW3NjaXNzb3JdIC0gVGhlIHNjaXNzb3IgcmVjdGFuZ2xlIG9mIHRoZVxuICAgICAqIHF1YWQsIGluIHBpeGVscy4gVXNlZCBvbmx5IGlmIHRoZSB2aWV3cG9ydCBpcyBwcm92aWRlZC5cbiAgICAgKi9cbiAgICByZW5kZXIodmlld3BvcnQsIHNjaXNzb3IpIHtcblxuICAgICAgICBjb25zdCBkZXZpY2UgPSB0aGlzLnNoYWRlci5kZXZpY2U7XG4gICAgICAgIERlYnVnR3JhcGhpY3MucHVzaEdwdU1hcmtlcihkZXZpY2UsIFwiUXVhZFJlbmRlclwiKTtcblxuICAgICAgICAvLyBvbmx5IG1vZGlmeSB2aWV3cG9ydCBvciBzY2lzc29yIGlmIHZpZXdwb3J0IHN1cHBsaWVkXG4gICAgICAgIGlmICh2aWV3cG9ydCkge1xuXG4gICAgICAgICAgICAvLyBiYWNrdXAgY3VycmVudCBzZXR0aW5nc1xuICAgICAgICAgICAgX3RlbXBWaWV3cG9ydC5zZXQoZGV2aWNlLnZ4LCBkZXZpY2UudnksIGRldmljZS52dywgZGV2aWNlLnZoKTtcbiAgICAgICAgICAgIF90ZW1wU2Npc3Nvci5zZXQoZGV2aWNlLnN4LCBkZXZpY2Uuc3ksIGRldmljZS5zdywgZGV2aWNlLnNoKTtcblxuICAgICAgICAgICAgLy8gc2V0IG5ldyB2YWx1ZXNcbiAgICAgICAgICAgIHNjaXNzb3IgPSBzY2lzc29yID8/IHZpZXdwb3J0O1xuICAgICAgICAgICAgZGV2aWNlLnNldFZpZXdwb3J0KHZpZXdwb3J0LngsIHZpZXdwb3J0LnksIHZpZXdwb3J0LnosIHZpZXdwb3J0LncpO1xuICAgICAgICAgICAgZGV2aWNlLnNldFNjaXNzb3Ioc2Npc3Nvci54LCBzY2lzc29yLnksIHNjaXNzb3Iueiwgc2Npc3Nvci53KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRldmljZS5zZXRWZXJ0ZXhCdWZmZXIoZGV2aWNlLnF1YWRWZXJ0ZXhCdWZmZXIsIDApO1xuXG4gICAgICAgIGNvbnN0IHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuICAgICAgICBkZXZpY2Uuc2V0U2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgaWYgKGRldmljZS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGJpbmRHcm91cCA9IHRoaXMuYmluZEdyb3VwO1xuICAgICAgICAgICAgaWYgKGJpbmRHcm91cC5kZWZhdWx0VW5pZm9ybUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIGJpbmRHcm91cC5kZWZhdWx0VW5pZm9ybUJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpbmRHcm91cC51cGRhdGUoKTtcbiAgICAgICAgICAgIGRldmljZS5zZXRCaW5kR3JvdXAoQklOREdST1VQX01FU0gsIGJpbmRHcm91cCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZXZpY2UuZHJhdyhfcXVhZFByaW1pdGl2ZSk7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBpZiBjaGFuZ2VkXG4gICAgICAgIGlmICh2aWV3cG9ydCkge1xuICAgICAgICAgICAgZGV2aWNlLnNldFZpZXdwb3J0KF90ZW1wVmlld3BvcnQueCwgX3RlbXBWaWV3cG9ydC55LCBfdGVtcFZpZXdwb3J0LnosIF90ZW1wVmlld3BvcnQudyk7XG4gICAgICAgICAgICBkZXZpY2Uuc2V0U2Npc3NvcihfdGVtcFNjaXNzb3IueCwgX3RlbXBTY2lzc29yLnksIF90ZW1wU2Npc3Nvci56LCBfdGVtcFNjaXNzb3Iudyk7XG4gICAgICAgIH1cblxuICAgICAgICBEZWJ1Z0dyYXBoaWNzLnBvcEdwdU1hcmtlcihkZXZpY2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgUXVhZFJlbmRlciB9O1xuIl0sIm5hbWVzIjpbIl9xdWFkUHJpbWl0aXZlIiwidHlwZSIsIlBSSU1JVElWRV9UUklTVFJJUCIsImJhc2UiLCJjb3VudCIsImluZGV4ZWQiLCJfdGVtcFZpZXdwb3J0IiwiVmVjNCIsIl90ZW1wU2Npc3NvciIsIlF1YWRSZW5kZXIiLCJjb25zdHJ1Y3RvciIsInNoYWRlciIsInVuaWZvcm1CdWZmZXIiLCJiaW5kR3JvdXAiLCJkZXZpY2UiLCJEZWJ1ZyIsImFzc2VydCIsInN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMiLCJwcm9jZXNzaW5nT3B0aW9ucyIsIlNoYWRlclByb2Nlc3Nvck9wdGlvbnMiLCJwcm9jZXNzU2hhZGVyIiwidWJGb3JtYXQiLCJtZXNoVW5pZm9ybUJ1ZmZlckZvcm1hdCIsIlVuaWZvcm1CdWZmZXIiLCJiaW5kR3JvdXBGb3JtYXQiLCJtZXNoQmluZEdyb3VwRm9ybWF0IiwiQmluZEdyb3VwIiwiRGVidWdIZWxwZXIiLCJzZXROYW1lIiwiaWQiLCJkZXN0cm95IiwiX3RoaXMkdW5pZm9ybUJ1ZmZlciIsIl90aGlzJGJpbmRHcm91cCIsInJlbmRlciIsInZpZXdwb3J0Iiwic2Npc3NvciIsIkRlYnVnR3JhcGhpY3MiLCJwdXNoR3B1TWFya2VyIiwiX3NjaXNzb3IiLCJzZXQiLCJ2eCIsInZ5IiwidnciLCJ2aCIsInN4Iiwic3kiLCJzdyIsInNoIiwic2V0Vmlld3BvcnQiLCJ4IiwieSIsInoiLCJ3Iiwic2V0U2Npc3NvciIsInNldFZlcnRleEJ1ZmZlciIsInF1YWRWZXJ0ZXhCdWZmZXIiLCJzZXRTaGFkZXIiLCJkZWZhdWx0VW5pZm9ybUJ1ZmZlciIsInVwZGF0ZSIsInNldEJpbmRHcm91cCIsIkJJTkRHUk9VUF9NRVNIIiwiZHJhdyIsInBvcEdwdU1hcmtlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBU0EsTUFBTUEsY0FBYyxHQUFHO0FBQ25CQyxFQUFBQSxJQUFJLEVBQUVDLGtCQUFrQjtBQUN4QkMsRUFBQUEsSUFBSSxFQUFFLENBQUM7QUFDUEMsRUFBQUEsS0FBSyxFQUFFLENBQUM7QUFDUkMsRUFBQUEsT0FBTyxFQUFFLEtBQUE7QUFDYixDQUFDLENBQUE7QUFFRCxNQUFNQyxhQUFhLEdBQUcsSUFBSUMsSUFBSSxFQUFFLENBQUE7QUFDaEMsTUFBTUMsWUFBWSxHQUFHLElBQUlELElBQUksRUFBRSxDQUFBOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNRSxVQUFVLENBQUM7QUFhYjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0VBQ0lDLFdBQVdBLENBQUNDLE1BQU0sRUFBRTtBQWpCcEI7QUFDSjtBQUNBO0FBQ0E7QUFISSxJQUFBLElBQUEsQ0FJQUMsYUFBYSxHQUFBLEtBQUEsQ0FBQSxDQUFBO0FBRWI7QUFDSjtBQUNBO0FBQ0E7QUFISSxJQUFBLElBQUEsQ0FJQUMsU0FBUyxHQUFBLEtBQUEsQ0FBQSxDQUFBO0FBU0wsSUFBQSxNQUFNQyxNQUFNLEdBQUdILE1BQU0sQ0FBQ0csTUFBTSxDQUFBO0lBQzVCLElBQUksQ0FBQ0gsTUFBTSxHQUFHQSxNQUFNLENBQUE7QUFDcEJJLElBQUFBLEtBQUssQ0FBQ0MsTUFBTSxDQUFDTCxNQUFNLENBQUMsQ0FBQTtJQUVwQixJQUFJRyxNQUFNLENBQUNHLHNCQUFzQixFQUFFO0FBRS9CO0FBQ0EsTUFBQSxNQUFNQyxpQkFBaUIsR0FBRyxJQUFJQyxzQkFBc0IsRUFBRSxDQUFBO01BQ3RE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
