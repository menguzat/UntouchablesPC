let Untar; // see below why we declare this here

// The UntarScope function is going to be used
// as the code that ends up in a Web Worker.
// The Untar variable is declared outside the scope so that
// we do not have to add a 'return' statement to the UntarScope function.
// We also have to make sure that we do not mangle 'Untar' variable otherwise
// the Worker will not work.
function UntarScope(isWorker) {
  let utfDecoder;
  let asciiDecoder;
  if (typeof TextDecoder !== 'undefined') {
    try {
      utfDecoder = new TextDecoder('utf-8');
      asciiDecoder = new TextDecoder('windows-1252');
    } catch (e) {
      console.warn('TextDecoder not supported - pc.Untar module will not work');
    }
  } else {
    console.warn('TextDecoder not supported - pc.Untar module will not work');
  }
  function PaxHeader(fields) {
    this._fields = fields;
  }
  PaxHeader.parse = function (buffer, start, length) {
    const paxArray = new Uint8Array(buffer, start, length);
    let bytesRead = 0;
    const fields = [];
    while (bytesRead < length) {
      let spaceIndex;
      for (spaceIndex = bytesRead; spaceIndex < length; spaceIndex++) {
        if (paxArray[spaceIndex] === 0x20) break;
      }
      if (spaceIndex >= length) {
        throw new Error('Invalid PAX header data format.');
      }
      const fieldLength = parseInt(utfDecoder.decode(new Uint8Array(buffer, start + bytesRead, spaceIndex - bytesRead)), 10);
      const fieldText = utfDecoder.decode(new Uint8Array(buffer, start + spaceIndex + 1, fieldLength - (spaceIndex - bytesRead) - 2));
      const field = fieldText.split('=');
      if (field.length !== 2) {
        throw new Error('Invalid PAX header data format.');
      }
      if (field[1].length === 0) {
        field[1] = null;
      }
      fields.push({
        name: field[0],
        value: field[1]
      });
      bytesRead += fieldLength;
    }
    return new PaxHeader(fields);
  };
  PaxHeader.prototype.applyHeader = function (file) {
    for (let i = 0; i < this._fields.length; i++) {
      let fieldName = this._fields[i].name;
      const fieldValue = this._fields[i].value;
      if (fieldName === 'path') {
        fieldName = 'name';
      }
      if (fieldValue === null) {
        delete file[fieldName];
      } else {
        file[fieldName] = fieldValue;
      }
    }
  };

  /**
   * @private
   * @name Untar
   * @classdesc Untars a tar archive in the form of an array buffer.
   * @param {ArrayBuffer} arrayBuffer - The array buffer that holds the tar archive.
   * @description Creates a new instance of Untar.
   */
  function UntarInternal(arrayBuffer) {
    this._arrayBuffer = arrayBuffer || new ArrayBuffer(0);
    this._bufferView = new DataView(this._arrayBuffer);
    this._globalPaxHeader = null;
    this._paxHeader = null;
    this._bytesRead = 0;
  }
  if (!isWorker) {
    Untar = UntarInternal;
  }

  /**
   * @private
   * @function
   * @name Untar#_hasNext
   * @description Whether we have more files to untar.
   * @returns {boolean} Returns true or false.
   */
  UntarInternal.prototype._hasNext = function () {
    return this._bytesRead + 4 < this._arrayBuffer.byteLength && this._bufferView.getUint32(this._bytesRead) !== 0;
  };

  /**
   * @private
   * @function
   * @name Untar#_readNextFile
   * @description Untars the next file in the archive.
   * @returns {object} Returns a file descriptor in the following format:
   * {name, size, start, url}.
   */
  UntarInternal.prototype._readNextFile = function () {
    const headersDataView = new DataView(this._arrayBuffer, this._bytesRead, 512);
    const headers = asciiDecoder.decode(headersDataView);
    this._bytesRead += 512;
    let name = headers.substring(0, 100).replace(/\0/g, '');
    const ustarFormat = headers.substring(257, 263);
    const size = parseInt(headers.substring(124, 136), 8);
    const type = headers.substring(156, 157);
    const start = this._bytesRead;
    let url = null;
    let normalFile = false;
    switch (type) {
      case '0':
      case '':
        // Normal file
        // do not create blob URL if we are in a worker
        // because if the worker is destroyed it will also destroy the blob URLs
        normalFile = true;
        if (!isWorker) {
          const blob = new Blob([this._arrayBuffer.slice(this._bytesRead, this._bytesRead + size)]);
          url = URL.createObjectURL(blob);
        }
        break;
      case 'g':
        // Global PAX header
        this._globalPaxHeader = PaxHeader.parse(this._arrayBuffer, this._bytesRead, size);
        break;
      case 'x':
        // PAX header
        this._paxHeader = PaxHeader.parse(this._arrayBuffer, this._bytesRead, size);
        break;
    }

    this._bytesRead += size;

    // File data is padded to reach a 512 byte boundary; skip the padded bytes too.
    const remainder = size % 512;
    if (remainder !== 0) {
      this._bytesRead += 512 - remainder;
    }
    if (!normalFile) {
      return null;
    }
    if (ustarFormat.indexOf('ustar') !== -1) {
      const namePrefix = headers.substring(345, 500).replace(/\0/g, '');
      if (namePrefix.length > 0) {
        name = namePrefix.trim() + name.trim();
      }
    }
    const file = {
      name: name,
      start: start,
      size: size,
      url: url
    };
    if (this._globalPaxHeader) {
      this._globalPaxHeader.applyHeader(file);
    }
    if (this._paxHeader) {
      this._paxHeader.applyHeader(file);
      this._paxHeader = null;
    }
    return file;
  };

  /**
   * @private
   * @function
   * @name Untar#untar
   * @description Untars the array buffer provided in the constructor.
   * @param {string} [filenamePrefix] - The prefix for each filename in the tar archive. This is usually the {@link AssetRegistry} prefix.
   * @returns {object[]} An array of files in this format {name, start, size, url}.
   */
  UntarInternal.prototype.untar = function (filenamePrefix) {
    if (!utfDecoder) {
      console.error('Cannot untar because TextDecoder interface is not available for this platform.');
      return [];
    }
    const files = [];
    while (this._hasNext()) {
      const file = this._readNextFile();
      if (!file) continue;
      if (filenamePrefix && file.name) {
        file.name = filenamePrefix + file.name;
      }
      files.push(file);
    }
    return files;
  };

  // if we are in a worker then create the onmessage handler using worker.self
  if (isWorker) {
    self.onmessage = function (e) {
      const id = e.data.id;
      try {
        const archive = new UntarInternal(e.data.arrayBuffer);
        const files = archive.untar(e.data.prefix);
        // The worker is done so send a message to the main thread.
        // Notice we are sending the array buffer back as a Transferrable object
        // so that the main thread can re-assume control of the array buffer.
        postMessage({
          id: id,
          files: files,
          arrayBuffer: e.data.arrayBuffer
        }, [e.data.arrayBuffer]);
      } catch (err) {
        postMessage({
          id: id,
          error: err.toString()
        });
      }
    };
  }
}

// this is the URL that is going to be used for workers
let workerUrl = null;

// Convert the UntarScope function to a string and add
// the onmessage handler for the worker to untar archives
function getWorkerUrl() {
  if (!workerUrl) {
    // execute UntarScope function in the worker
    const code = '(' + UntarScope.toString() + ')(true)\n\n';

    // create blob URL for the code above to be used for the worker
    const blob = new Blob([code], {
      type: 'application/javascript'
    });
    workerUrl = URL.createObjectURL(blob);
  }
  return workerUrl;
}

/**
 * Wraps untar'ing a tar archive with a Web Worker.
 *
 * @ignore
 */
class UntarWorker {
  /**
   * Creates new instance of an UntarWorker.
   *
   * @param {string} [filenamePrefix] - The prefix that should be added to each file name in the
   * archive. This is usually the {@link AssetRegistry} prefix.
   */
  constructor(filenamePrefix) {
    this._requestId = 0;
    this._pendingRequests = {};
    this._filenamePrefix = filenamePrefix;
    this._worker = new Worker(getWorkerUrl());
    this._worker.addEventListener('message', this._onMessage.bind(this));
  }

  /**
   * @param {MessageEvent} e - The message event from the worker.
   * @private
   */
  _onMessage(e) {
    const id = e.data.id;
    if (!this._pendingRequests[id]) return;
    const callback = this._pendingRequests[id];
    delete this._pendingRequests[id];
    if (e.data.error) {
      callback(e.data.error);
    } else {
      const arrayBuffer = e.data.arrayBuffer;

      // create blob URLs for each file. We are creating the URLs
      // here - outside of the worker - so that the main thread owns them
      for (let i = 0, len = e.data.files.length; i < len; i++) {
        const file = e.data.files[i];
        const blob = new Blob([arrayBuffer.slice(file.start, file.start + file.size)]);
        file.url = URL.createObjectURL(blob);
      }
      callback(null, e.data.files);
    }
  }

  /**
   * Untars the specified array buffer using a Web Worker and returns the result in the callback.
   *
   * @param {ArrayBuffer} arrayBuffer - The array buffer that holds the tar archive.
   * @param {Function} callback - The callback function called when the worker is finished or if
   * there is an error. The callback has the following arguments: {error, files}, where error is
   * a string if any, and files is an array of file descriptors.
   */
  untar(arrayBuffer, callback) {
    const id = this._requestId++;
    this._pendingRequests[id] = callback;

    // send data to the worker - notice the last argument
    // converts the arrayBuffer to a Transferrable object
    // to avoid copying the array buffer which would cause a stall.
    // However this causes the worker to assume control of the array
    // buffer so we cannot access this buffer until the worker is done with it.
    this._worker.postMessage({
      id: id,
      prefix: this._filenamePrefix,
      arrayBuffer: arrayBuffer
    }, [arrayBuffer]);
  }

  /**
   * Returns whether the worker has pending requests to untar array buffers.
   *
   * @returns {boolean} Returns true if there are pending requests and false otherwise.
   */
  hasPendingRequests() {
    return Object.keys(this._pendingRequests).length > 0;
  }

  /**
   * Destroys the internal Web Worker.
   */
  destroy() {
    if (this._worker) {
      this._worker.terminate();
      this._worker = null;
      this._pendingRequests = null;
    }
  }
}

// execute the UntarScope function in order to declare the Untar constructor
UntarScope();

export { Untar, UntarWorker };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW50YXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9mcmFtZXdvcmsvaGFuZGxlcnMvdW50YXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IFVudGFyOyAvLyBzZWUgYmVsb3cgd2h5IHdlIGRlY2xhcmUgdGhpcyBoZXJlXG5cbi8vIFRoZSBVbnRhclNjb3BlIGZ1bmN0aW9uIGlzIGdvaW5nIHRvIGJlIHVzZWRcbi8vIGFzIHRoZSBjb2RlIHRoYXQgZW5kcyB1cCBpbiBhIFdlYiBXb3JrZXIuXG4vLyBUaGUgVW50YXIgdmFyaWFibGUgaXMgZGVjbGFyZWQgb3V0c2lkZSB0aGUgc2NvcGUgc28gdGhhdFxuLy8gd2UgZG8gbm90IGhhdmUgdG8gYWRkIGEgJ3JldHVybicgc3RhdGVtZW50IHRvIHRoZSBVbnRhclNjb3BlIGZ1bmN0aW9uLlxuLy8gV2UgYWxzbyBoYXZlIHRvIG1ha2Ugc3VyZSB0aGF0IHdlIGRvIG5vdCBtYW5nbGUgJ1VudGFyJyB2YXJpYWJsZSBvdGhlcndpc2Vcbi8vIHRoZSBXb3JrZXIgd2lsbCBub3Qgd29yay5cbmZ1bmN0aW9uIFVudGFyU2NvcGUoaXNXb3JrZXIpIHtcbiAgICBsZXQgdXRmRGVjb2RlcjtcbiAgICBsZXQgYXNjaWlEZWNvZGVyO1xuXG4gICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHV0ZkRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04Jyk7XG4gICAgICAgICAgICBhc2NpaURlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3dpbmRvd3MtMTI1MicpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RleHREZWNvZGVyIG5vdCBzdXBwb3J0ZWQgLSBwYy5VbnRhciBtb2R1bGUgd2lsbCBub3Qgd29yaycpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUZXh0RGVjb2RlciBub3Qgc3VwcG9ydGVkIC0gcGMuVW50YXIgbW9kdWxlIHdpbGwgbm90IHdvcmsnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBQYXhIZWFkZXIoZmllbGRzKSB7XG4gICAgICAgIHRoaXMuX2ZpZWxkcyA9IGZpZWxkcztcbiAgICB9XG5cbiAgICBQYXhIZWFkZXIucGFyc2UgPSBmdW5jdGlvbiAoYnVmZmVyLCBzdGFydCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHBheEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLCBzdGFydCwgbGVuZ3RoKTtcbiAgICAgICAgbGV0IGJ5dGVzUmVhZCA9IDA7XG4gICAgICAgIGNvbnN0IGZpZWxkcyA9IFtdO1xuXG4gICAgICAgIHdoaWxlIChieXRlc1JlYWQgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBzcGFjZUluZGV4O1xuICAgICAgICAgICAgZm9yIChzcGFjZUluZGV4ID0gYnl0ZXNSZWFkOyBzcGFjZUluZGV4IDwgbGVuZ3RoOyBzcGFjZUluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAocGF4QXJyYXlbc3BhY2VJbmRleF0gPT09IDB4MjApXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3BhY2VJbmRleCA+PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgUEFYIGhlYWRlciBkYXRhIGZvcm1hdC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZmllbGRMZW5ndGggPSBwYXJzZUludCh1dGZEZWNvZGVyLmRlY29kZShuZXcgVWludDhBcnJheShidWZmZXIsIHN0YXJ0ICsgYnl0ZXNSZWFkLCBzcGFjZUluZGV4IC0gYnl0ZXNSZWFkKSksIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkVGV4dCA9IHV0ZkRlY29kZXIuZGVjb2RlKG5ldyBVaW50OEFycmF5KGJ1ZmZlciwgc3RhcnQgKyBzcGFjZUluZGV4ICsgMSwgZmllbGRMZW5ndGggLSAoc3BhY2VJbmRleCAtIGJ5dGVzUmVhZCkgLSAyKSk7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IGZpZWxkVGV4dC5zcGxpdCgnPScpO1xuXG4gICAgICAgICAgICBpZiAoZmllbGQubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFBBWCBoZWFkZXIgZGF0YSBmb3JtYXQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaWVsZFsxXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZFsxXSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBmaWVsZFswXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmllbGRbMV1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBieXRlc1JlYWQgKz0gZmllbGRMZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFBheEhlYWRlcihmaWVsZHMpO1xuICAgIH07XG5cbiAgICBQYXhIZWFkZXIucHJvdG90eXBlLmFwcGx5SGVhZGVyID0gZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBmaWVsZE5hbWUgPSB0aGlzLl9maWVsZHNbaV0ubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkVmFsdWUgPSB0aGlzLl9maWVsZHNbaV0udmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChmaWVsZE5hbWUgPT09ICdwYXRoJykge1xuICAgICAgICAgICAgICAgIGZpZWxkTmFtZSA9ICduYW1lJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpZWxkVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZmlsZVtmaWVsZE5hbWVdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWxlW2ZpZWxkTmFtZV0gPSBmaWVsZFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgVW50YXJcbiAgICAgKiBAY2xhc3NkZXNjIFVudGFycyBhIHRhciBhcmNoaXZlIGluIHRoZSBmb3JtIG9mIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciAtIFRoZSBhcnJheSBidWZmZXIgdGhhdCBob2xkcyB0aGUgdGFyIGFyY2hpdmUuXG4gICAgICogQGRlc2NyaXB0aW9uIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVW50YXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVW50YXJJbnRlcm5hbChhcnJheUJ1ZmZlcikge1xuICAgICAgICB0aGlzLl9hcnJheUJ1ZmZlciA9IGFycmF5QnVmZmVyIHx8IG5ldyBBcnJheUJ1ZmZlcigwKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyVmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLl9hcnJheUJ1ZmZlcik7XG4gICAgICAgIHRoaXMuX2dsb2JhbFBheEhlYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BheEhlYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J5dGVzUmVhZCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCFpc1dvcmtlcikge1xuICAgICAgICBVbnRhciA9IFVudGFySW50ZXJuYWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBVbnRhciNfaGFzTmV4dFxuICAgICAqIEBkZXNjcmlwdGlvbiBXaGV0aGVyIHdlIGhhdmUgbW9yZSBmaWxlcyB0byB1bnRhci5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIG9yIGZhbHNlLlxuICAgICAqL1xuICAgIFVudGFySW50ZXJuYWwucHJvdG90eXBlLl9oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnl0ZXNSZWFkICsgNCA8IHRoaXMuX2FycmF5QnVmZmVyLmJ5dGVMZW5ndGggJiYgdGhpcy5fYnVmZmVyVmlldy5nZXRVaW50MzIodGhpcy5fYnl0ZXNSZWFkKSAhPT0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBVbnRhciNfcmVhZE5leHRGaWxlXG4gICAgICogQGRlc2NyaXB0aW9uIFVudGFycyB0aGUgbmV4dCBmaWxlIGluIHRoZSBhcmNoaXZlLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFJldHVybnMgYSBmaWxlIGRlc2NyaXB0b3IgaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG4gICAgICoge25hbWUsIHNpemUsIHN0YXJ0LCB1cmx9LlxuICAgICAqL1xuICAgIFVudGFySW50ZXJuYWwucHJvdG90eXBlLl9yZWFkTmV4dEZpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnNEYXRhVmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLl9hcnJheUJ1ZmZlciwgdGhpcy5fYnl0ZXNSZWFkLCA1MTIpO1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gYXNjaWlEZWNvZGVyLmRlY29kZShoZWFkZXJzRGF0YVZpZXcpO1xuICAgICAgICB0aGlzLl9ieXRlc1JlYWQgKz0gNTEyO1xuXG4gICAgICAgIGxldCBuYW1lID0gaGVhZGVycy5zdWJzdHJpbmcoMCwgMTAwKS5yZXBsYWNlKC9cXDAvZywgJycpO1xuICAgICAgICBjb25zdCB1c3RhckZvcm1hdCA9IGhlYWRlcnMuc3Vic3RyaW5nKDI1NywgMjYzKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHBhcnNlSW50KGhlYWRlcnMuc3Vic3RyaW5nKDEyNCwgMTM2KSwgOCk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBoZWFkZXJzLnN1YnN0cmluZygxNTYsIDE1Nyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5fYnl0ZXNSZWFkO1xuICAgICAgICBsZXQgdXJsID0gbnVsbDtcblxuICAgICAgICBsZXQgbm9ybWFsRmlsZSA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJzAnOiBjYXNlICcnOiAvLyBOb3JtYWwgZmlsZVxuICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBjcmVhdGUgYmxvYiBVUkwgaWYgd2UgYXJlIGluIGEgd29ya2VyXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBpZiB0aGUgd29ya2VyIGlzIGRlc3Ryb3llZCBpdCB3aWxsIGFsc28gZGVzdHJveSB0aGUgYmxvYiBVUkxzXG4gICAgICAgICAgICAgICAgbm9ybWFsRmlsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1dvcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3RoaXMuX2FycmF5QnVmZmVyLnNsaWNlKHRoaXMuX2J5dGVzUmVhZCwgdGhpcy5fYnl0ZXNSZWFkICsgc2l6ZSldKTtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdnJzogLy8gR2xvYmFsIFBBWCBoZWFkZXJcbiAgICAgICAgICAgICAgICB0aGlzLl9nbG9iYWxQYXhIZWFkZXIgPSBQYXhIZWFkZXIucGFyc2UodGhpcy5fYXJyYXlCdWZmZXIsIHRoaXMuX2J5dGVzUmVhZCwgc2l6ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd4JzogLy8gUEFYIGhlYWRlclxuICAgICAgICAgICAgICAgIHRoaXMuX3BheEhlYWRlciA9IFBheEhlYWRlci5wYXJzZSh0aGlzLl9hcnJheUJ1ZmZlciwgdGhpcy5fYnl0ZXNSZWFkLCBzaXplKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJzEnOiAvLyBMaW5rIHRvIGFub3RoZXIgZmlsZSBhbHJlYWR5IGFyY2hpdmVkXG4gICAgICAgICAgICBjYXNlICcyJzogLy8gU3ltYm9saWMgbGlua1xuICAgICAgICAgICAgY2FzZSAnMyc6IC8vIENoYXJhY3RlciBzcGVjaWFsIGRldmljZVxuICAgICAgICAgICAgY2FzZSAnNCc6IC8vIEJsb2NrIHNwZWNpYWwgZGV2aWNlXG4gICAgICAgICAgICBjYXNlICc1JzogLy8gRGlyZWN0b3J5XG4gICAgICAgICAgICBjYXNlICc2JzogLy8gRklGTyBzcGVjaWFsIGZpbGVcbiAgICAgICAgICAgIGNhc2UgJzcnOiAvLyBSZXNlcnZlZFxuICAgICAgICAgICAgZGVmYXVsdDogLy8gVW5rbm93biBmaWxlIHR5cGVcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J5dGVzUmVhZCArPSBzaXplO1xuXG4gICAgICAgIC8vIEZpbGUgZGF0YSBpcyBwYWRkZWQgdG8gcmVhY2ggYSA1MTIgYnl0ZSBib3VuZGFyeTsgc2tpcCB0aGUgcGFkZGVkIGJ5dGVzIHRvby5cbiAgICAgICAgY29uc3QgcmVtYWluZGVyID0gc2l6ZSAlIDUxMjtcbiAgICAgICAgaWYgKHJlbWFpbmRlciAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fYnl0ZXNSZWFkICs9ICg1MTIgLSByZW1haW5kZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFub3JtYWxGaWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c3RhckZvcm1hdC5pbmRleE9mKCd1c3RhcicpICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgbmFtZVByZWZpeCA9IGhlYWRlcnMuc3Vic3RyaW5nKDM0NSwgNTAwKS5yZXBsYWNlKC9cXDAvZywgJycpO1xuXG4gICAgICAgICAgICBpZiAobmFtZVByZWZpeC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWVQcmVmaXgudHJpbSgpICsgbmFtZS50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWxlID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgICB1cmw6IHVybFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLl9nbG9iYWxQYXhIZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2dsb2JhbFBheEhlYWRlci5hcHBseUhlYWRlcihmaWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYXhIZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3BheEhlYWRlci5hcHBseUhlYWRlcihmaWxlKTtcbiAgICAgICAgICAgIHRoaXMuX3BheEhlYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmlsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBVbnRhciN1bnRhclxuICAgICAqIEBkZXNjcmlwdGlvbiBVbnRhcnMgdGhlIGFycmF5IGJ1ZmZlciBwcm92aWRlZCBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmaWxlbmFtZVByZWZpeF0gLSBUaGUgcHJlZml4IGZvciBlYWNoIGZpbGVuYW1lIGluIHRoZSB0YXIgYXJjaGl2ZS4gVGhpcyBpcyB1c3VhbGx5IHRoZSB7QGxpbmsgQXNzZXRSZWdpc3RyeX0gcHJlZml4LlxuICAgICAqIEByZXR1cm5zIHtvYmplY3RbXX0gQW4gYXJyYXkgb2YgZmlsZXMgaW4gdGhpcyBmb3JtYXQge25hbWUsIHN0YXJ0LCBzaXplLCB1cmx9LlxuICAgICAqL1xuICAgIFVudGFySW50ZXJuYWwucHJvdG90eXBlLnVudGFyID0gZnVuY3Rpb24gKGZpbGVuYW1lUHJlZml4KSB7XG4gICAgICAgIGlmICghdXRmRGVjb2Rlcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IHVudGFyIGJlY2F1c2UgVGV4dERlY29kZXIgaW50ZXJmYWNlIGlzIG5vdCBhdmFpbGFibGUgZm9yIHRoaXMgcGxhdGZvcm0uJyk7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWxlcyA9IFtdO1xuICAgICAgICB3aGlsZSAodGhpcy5faGFzTmV4dCgpKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5fcmVhZE5leHRGaWxlKCk7XG4gICAgICAgICAgICBpZiAoIWZpbGUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKGZpbGVuYW1lUHJlZml4ICYmIGZpbGUubmFtZSkge1xuICAgICAgICAgICAgICAgIGZpbGUubmFtZSA9IGZpbGVuYW1lUHJlZml4ICsgZmlsZS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsZXMucHVzaChmaWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaWxlcztcbiAgICB9O1xuXG4gICAgLy8gaWYgd2UgYXJlIGluIGEgd29ya2VyIHRoZW4gY3JlYXRlIHRoZSBvbm1lc3NhZ2UgaGFuZGxlciB1c2luZyB3b3JrZXIuc2VsZlxuICAgIGlmIChpc1dvcmtlcikge1xuICAgICAgICBzZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGUuZGF0YS5pZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmNoaXZlID0gbmV3IFVudGFySW50ZXJuYWwoZS5kYXRhLmFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGFyY2hpdmUudW50YXIoZS5kYXRhLnByZWZpeCk7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHdvcmtlciBpcyBkb25lIHNvIHNlbmQgYSBtZXNzYWdlIHRvIHRoZSBtYWluIHRocmVhZC5cbiAgICAgICAgICAgICAgICAvLyBOb3RpY2Ugd2UgYXJlIHNlbmRpbmcgdGhlIGFycmF5IGJ1ZmZlciBiYWNrIGFzIGEgVHJhbnNmZXJyYWJsZSBvYmplY3RcbiAgICAgICAgICAgICAgICAvLyBzbyB0aGF0IHRoZSBtYWluIHRocmVhZCBjYW4gcmUtYXNzdW1lIGNvbnRyb2wgb2YgdGhlIGFycmF5IGJ1ZmZlci5cbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZXM6IGZpbGVzLFxuICAgICAgICAgICAgICAgICAgICBhcnJheUJ1ZmZlcjogZS5kYXRhLmFycmF5QnVmZmVyXG4gICAgICAgICAgICAgICAgfSwgW2UuZGF0YS5hcnJheUJ1ZmZlcl0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLy8gdGhpcyBpcyB0aGUgVVJMIHRoYXQgaXMgZ29pbmcgdG8gYmUgdXNlZCBmb3Igd29ya2Vyc1xubGV0IHdvcmtlclVybCA9IG51bGw7XG5cbi8vIENvbnZlcnQgdGhlIFVudGFyU2NvcGUgZnVuY3Rpb24gdG8gYSBzdHJpbmcgYW5kIGFkZFxuLy8gdGhlIG9ubWVzc2FnZSBoYW5kbGVyIGZvciB0aGUgd29ya2VyIHRvIHVudGFyIGFyY2hpdmVzXG5mdW5jdGlvbiBnZXRXb3JrZXJVcmwoKSB7XG4gICAgaWYgKCF3b3JrZXJVcmwpIHtcbiAgICAgICAgLy8gZXhlY3V0ZSBVbnRhclNjb3BlIGZ1bmN0aW9uIGluIHRoZSB3b3JrZXJcbiAgICAgICAgY29uc3QgY29kZSA9ICcoJyArIFVudGFyU2NvcGUudG9TdHJpbmcoKSArICcpKHRydWUpXFxuXFxuJztcblxuICAgICAgICAvLyBjcmVhdGUgYmxvYiBVUkwgZm9yIHRoZSBjb2RlIGFib3ZlIHRvIGJlIHVzZWQgZm9yIHRoZSB3b3JrZXJcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtjb2RlXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcgfSk7XG5cbiAgICAgICAgd29ya2VyVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB9XG4gICAgcmV0dXJuIHdvcmtlclVybDtcbn1cblxuLyoqXG4gKiBXcmFwcyB1bnRhcidpbmcgYSB0YXIgYXJjaGl2ZSB3aXRoIGEgV2ViIFdvcmtlci5cbiAqXG4gKiBAaWdub3JlXG4gKi9cbmNsYXNzIFVudGFyV29ya2VyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiBhbiBVbnRhcldvcmtlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZmlsZW5hbWVQcmVmaXhdIC0gVGhlIHByZWZpeCB0aGF0IHNob3VsZCBiZSBhZGRlZCB0byBlYWNoIGZpbGUgbmFtZSBpbiB0aGVcbiAgICAgKiBhcmNoaXZlLiBUaGlzIGlzIHVzdWFsbHkgdGhlIHtAbGluayBBc3NldFJlZ2lzdHJ5fSBwcmVmaXguXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZmlsZW5hbWVQcmVmaXgpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gMDtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzID0ge307XG4gICAgICAgIHRoaXMuX2ZpbGVuYW1lUHJlZml4ID0gZmlsZW5hbWVQcmVmaXg7XG4gICAgICAgIHRoaXMuX3dvcmtlciA9IG5ldyBXb3JrZXIoZ2V0V29ya2VyVXJsKCkpO1xuICAgICAgICB0aGlzLl93b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX29uTWVzc2FnZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VFdmVudH0gZSAtIFRoZSBtZXNzYWdlIGV2ZW50IGZyb20gdGhlIHdvcmtlci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbk1lc3NhZ2UoZSkge1xuICAgICAgICBjb25zdCBpZCA9IGUuZGF0YS5pZDtcbiAgICAgICAgaWYgKCF0aGlzLl9wZW5kaW5nUmVxdWVzdHNbaWRdKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbaWRdO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbaWRdO1xuXG4gICAgICAgIGlmIChlLmRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGUuZGF0YS5lcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGUuZGF0YS5hcnJheUJ1ZmZlcjtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIGJsb2IgVVJMcyBmb3IgZWFjaCBmaWxlLiBXZSBhcmUgY3JlYXRpbmcgdGhlIFVSTHNcbiAgICAgICAgICAgIC8vIGhlcmUgLSBvdXRzaWRlIG9mIHRoZSB3b3JrZXIgLSBzbyB0aGF0IHRoZSBtYWluIHRocmVhZCBvd25zIHRoZW1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBlLmRhdGEuZmlsZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZS5kYXRhLmZpbGVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXIuc2xpY2UoZmlsZS5zdGFydCwgZmlsZS5zdGFydCArIGZpbGUuc2l6ZSldKTtcbiAgICAgICAgICAgICAgICBmaWxlLnVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGUuZGF0YS5maWxlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbnRhcnMgdGhlIHNwZWNpZmllZCBhcnJheSBidWZmZXIgdXNpbmcgYSBXZWIgV29ya2VyIGFuZCByZXR1cm5zIHRoZSByZXN1bHQgaW4gdGhlIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgLSBUaGUgYXJyYXkgYnVmZmVyIHRoYXQgaG9sZHMgdGhlIHRhciBhcmNoaXZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZSB3b3JrZXIgaXMgZmluaXNoZWQgb3IgaWZcbiAgICAgKiB0aGVyZSBpcyBhbiBlcnJvci4gVGhlIGNhbGxiYWNrIGhhcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czoge2Vycm9yLCBmaWxlc30sIHdoZXJlIGVycm9yIGlzXG4gICAgICogYSBzdHJpbmcgaWYgYW55LCBhbmQgZmlsZXMgaXMgYW4gYXJyYXkgb2YgZmlsZSBkZXNjcmlwdG9ycy5cbiAgICAgKi9cbiAgICB1bnRhcihhcnJheUJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9yZXF1ZXN0SWQrKztcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW2lkXSA9IGNhbGxiYWNrO1xuXG4gICAgICAgIC8vIHNlbmQgZGF0YSB0byB0aGUgd29ya2VyIC0gbm90aWNlIHRoZSBsYXN0IGFyZ3VtZW50XG4gICAgICAgIC8vIGNvbnZlcnRzIHRoZSBhcnJheUJ1ZmZlciB0byBhIFRyYW5zZmVycmFibGUgb2JqZWN0XG4gICAgICAgIC8vIHRvIGF2b2lkIGNvcHlpbmcgdGhlIGFycmF5IGJ1ZmZlciB3aGljaCB3b3VsZCBjYXVzZSBhIHN0YWxsLlxuICAgICAgICAvLyBIb3dldmVyIHRoaXMgY2F1c2VzIHRoZSB3b3JrZXIgdG8gYXNzdW1lIGNvbnRyb2wgb2YgdGhlIGFycmF5XG4gICAgICAgIC8vIGJ1ZmZlciBzbyB3ZSBjYW5ub3QgYWNjZXNzIHRoaXMgYnVmZmVyIHVudGlsIHRoZSB3b3JrZXIgaXMgZG9uZSB3aXRoIGl0LlxuICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgcHJlZml4OiB0aGlzLl9maWxlbmFtZVByZWZpeCxcbiAgICAgICAgICAgIGFycmF5QnVmZmVyOiBhcnJheUJ1ZmZlclxuICAgICAgICB9LCBbYXJyYXlCdWZmZXJdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHdvcmtlciBoYXMgcGVuZGluZyByZXF1ZXN0cyB0byB1bnRhciBhcnJheSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgcGVuZGluZyByZXF1ZXN0cyBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGhhc1BlbmRpbmdSZXF1ZXN0cygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3BlbmRpbmdSZXF1ZXN0cykubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgaW50ZXJuYWwgV2ViIFdvcmtlci5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleGVjdXRlIHRoZSBVbnRhclNjb3BlIGZ1bmN0aW9uIGluIG9yZGVyIHRvIGRlY2xhcmUgdGhlIFVudGFyIGNvbnN0cnVjdG9yXG5VbnRhclNjb3BlKCk7XG5cbmV4cG9ydCB7IFVudGFyLCBVbnRhcldvcmtlciB9O1xuIl0sIm5hbWVzIjpbIlVudGFyIiwiVW50YXJTY29wZSIsImlzV29ya2VyIiwidXRmRGVjb2RlciIsImFzY2lpRGVjb2RlciIsIlRleHREZWNvZGVyIiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwiUGF4SGVhZGVyIiwiZmllbGRzIiwiX2ZpZWxkcyIsInBhcnNlIiwiYnVmZmVyIiwic3RhcnQiLCJsZW5ndGgiLCJwYXhBcnJheSIsIlVpbnQ4QXJyYXkiLCJieXRlc1JlYWQiLCJzcGFjZUluZGV4IiwiRXJyb3IiLCJmaWVsZExlbmd0aCIsInBhcnNlSW50IiwiZGVjb2RlIiwiZmllbGRUZXh0IiwiZmllbGQiLCJzcGxpdCIsInB1c2giLCJuYW1lIiwidmFsdWUiLCJwcm90b3R5cGUiLCJhcHBseUhlYWRlciIsImZpbGUiLCJpIiwiZmllbGROYW1lIiwiZmllbGRWYWx1ZSIsIlVudGFySW50ZXJuYWwiLCJhcnJheUJ1ZmZlciIsIl9hcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiX2J1ZmZlclZpZXciLCJEYXRhVmlldyIsIl9nbG9iYWxQYXhIZWFkZXIiLCJfcGF4SGVhZGVyIiwiX2J5dGVzUmVhZCIsIl9oYXNOZXh0IiwiYnl0ZUxlbmd0aCIsImdldFVpbnQzMiIsIl9yZWFkTmV4dEZpbGUiLCJoZWFkZXJzRGF0YVZpZXciLCJoZWFkZXJzIiwic3Vic3RyaW5nIiwicmVwbGFjZSIsInVzdGFyRm9ybWF0Iiwic2l6ZSIsInR5cGUiLCJ1cmwiLCJub3JtYWxGaWxlIiwiYmxvYiIsIkJsb2IiLCJzbGljZSIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJlbWFpbmRlciIsImluZGV4T2YiLCJuYW1lUHJlZml4IiwidHJpbSIsInVudGFyIiwiZmlsZW5hbWVQcmVmaXgiLCJlcnJvciIsImZpbGVzIiwic2VsZiIsIm9ubWVzc2FnZSIsImlkIiwiZGF0YSIsImFyY2hpdmUiLCJwcmVmaXgiLCJwb3N0TWVzc2FnZSIsImVyciIsInRvU3RyaW5nIiwid29ya2VyVXJsIiwiZ2V0V29ya2VyVXJsIiwiY29kZSIsIlVudGFyV29ya2VyIiwiY29uc3RydWN0b3IiLCJfcmVxdWVzdElkIiwiX3BlbmRpbmdSZXF1ZXN0cyIsIl9maWxlbmFtZVByZWZpeCIsIl93b3JrZXIiLCJXb3JrZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiX29uTWVzc2FnZSIsImJpbmQiLCJjYWxsYmFjayIsImxlbiIsImhhc1BlbmRpbmdSZXF1ZXN0cyIsIk9iamVjdCIsImtleXMiLCJkZXN0cm95IiwidGVybWluYXRlIl0sIm1hcHBpbmdzIjoiQUFBSUEsSUFBQUEsTUFBTTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTQyxVQUFVQSxDQUFDQyxRQUFRLEVBQUU7QUFDMUIsRUFBQSxJQUFJQyxVQUFVLENBQUE7QUFDZCxFQUFBLElBQUlDLFlBQVksQ0FBQTtBQUVoQixFQUFBLElBQUksT0FBT0MsV0FBVyxLQUFLLFdBQVcsRUFBRTtJQUNwQyxJQUFJO0FBQ0FGLE1BQUFBLFVBQVUsR0FBRyxJQUFJRSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDckNELE1BQUFBLFlBQVksR0FBRyxJQUFJQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUE7S0FDakQsQ0FBQyxPQUFPQyxDQUFDLEVBQUU7QUFDUkMsTUFBQUEsT0FBTyxDQUFDQyxJQUFJLENBQUMsMkRBQTJELENBQUMsQ0FBQTtBQUM3RSxLQUFBO0FBQ0osR0FBQyxNQUFNO0FBQ0hELElBQUFBLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLDJEQUEyRCxDQUFDLENBQUE7QUFDN0UsR0FB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
