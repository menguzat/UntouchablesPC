class I18nParser {
  _validate(data) {
    if (!data.header) {
      throw new Error('pc.I18n#addData: Missing "header" field');
    }
    if (!data.header.version) {
      throw new Error('pc.I18n#addData: Missing "header.version" field');
    }
    if (data.header.version !== 1) {
      throw new Error('pc.I18n#addData: Invalid "header.version" field');
    }
    if (!data.data) {
      throw new Error('pc.I18n#addData: Missing "data" field');
    } else if (!Array.isArray(data.data)) {
      throw new Error('pc.I18n#addData: "data" field must be an array');
    }
    for (let i = 0, len = data.data.length; i < len; i++) {
      const entry = data.data[i];
      if (!entry.info) {
        throw new Error(`pc.I18n#addData: missing "data[${i}].info" field`);
      }
      if (!entry.info.locale) {
        throw new Error(`pc.I18n#addData: missing "data[${i}].info.locale" field`);
      }
      if (typeof entry.info.locale !== 'string') {
        throw new Error(`pc.I18n#addData: "data[${i}].info.locale" must be a string`);
      }
      if (!entry.messages) {
        throw new Error(`pc.I18n#addData: missing "data[${i}].messages" field`);
      }
    }
  }
  parse(data) {
    this._validate(data);
    return data.data;
  }
}

export { I18nParser };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaTE4bi1wYXJzZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9mcmFtZXdvcmsvaTE4bi9pMThuLXBhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBJMThuUGFyc2VyIHtcbiAgICBfdmFsaWRhdGUoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEuaGVhZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BjLkkxOG4jYWRkRGF0YTogTWlzc2luZyBcImhlYWRlclwiIGZpZWxkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhLmhlYWRlci52ZXJzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BjLkkxOG4jYWRkRGF0YTogTWlzc2luZyBcImhlYWRlci52ZXJzaW9uXCIgZmllbGQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5oZWFkZXIudmVyc2lvbiAhPT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYy5JMThuI2FkZERhdGE6IEludmFsaWQgXCJoZWFkZXIudmVyc2lvblwiIGZpZWxkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRhdGEuZGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYy5JMThuI2FkZERhdGE6IE1pc3NpbmcgXCJkYXRhXCIgZmllbGQnKTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShkYXRhLmRhdGEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BjLkkxOG4jYWRkRGF0YTogXCJkYXRhXCIgZmllbGQgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRhdGEuZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSBkYXRhLmRhdGFbaV07XG4gICAgICAgICAgICBpZiAoIWVudHJ5LmluZm8pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBjLkkxOG4jYWRkRGF0YTogbWlzc2luZyBcImRhdGFbJHtpfV0uaW5mb1wiIGZpZWxkYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZW50cnkuaW5mby5sb2NhbGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBjLkkxOG4jYWRkRGF0YTogbWlzc2luZyBcImRhdGFbJHtpfV0uaW5mby5sb2NhbGVcIiBmaWVsZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeS5pbmZvLmxvY2FsZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBjLkkxOG4jYWRkRGF0YTogXCJkYXRhWyR7aX1dLmluZm8ubG9jYWxlXCIgbXVzdCBiZSBhIHN0cmluZ2ApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWVudHJ5Lm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwYy5JMThuI2FkZERhdGE6IG1pc3NpbmcgXCJkYXRhWyR7aX1dLm1lc3NhZ2VzXCIgZmllbGRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcnNlKGRhdGEpIHtcbiAgICAgICAgLy8gI2lmIF9ERUJVR1xuICAgICAgICB0aGlzLl92YWxpZGF0ZShkYXRhKTtcbiAgICAgICAgLy8gI2VuZGlmXG5cbiAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEkxOG5QYXJzZXIgfTtcbiJdLCJuYW1lcyI6WyJJMThuUGFyc2VyIiwiX3ZhbGlkYXRlIiwiZGF0YSIsImhlYWRlciIsIkVycm9yIiwidmVyc2lvbiIsIkFycmF5IiwiaXNBcnJheSIsImkiLCJsZW4iLCJsZW5ndGgiLCJlbnRyeSIsImluZm8iLCJsb2Nh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
