import { CURVE_SMOOTHSTEP } from './constants.js';
import { Curve } from './curve.js';
import { CurveEvaluator } from './curve-evaluator.js';

/**
 * A curve set is a collection of curves.
 */
class CurveSet {
  /**
   * Creates a new CurveSet instance.
   *
   * @param {Array<number[]>} curveKeys - An array of arrays of keys (pairs of numbers with the
   * time first and value second).
   * @example
   * const curveSet = new pc.CurveSet([
   *     [
   *         0, 0,        // At 0 time, value of 0
   *         0.33, 2,     // At 0.33 time, value of 2
   *         0.66, 2.6,   // At 0.66 time, value of 2.6
   *         1, 3         // At 1 time, value of 3
   *     ],
   *     [
   *         0, 34,
   *         0.33, 35,
   *         0.66, 36,
   *         1, 37
   *     ]
   * ]);
   */
  constructor() {
    this.curves = [];
    /**
     * @type {number}
     * @private
     */
    this._type = CURVE_SMOOTHSTEP;
    if (arguments.length > 1) {
      for (let i = 0; i < arguments.length; i++) {
        this.curves.push(new Curve(arguments[i]));
      }
    } else {
      if (arguments.length === 0) {
        this.curves.push(new Curve());
      } else {
        const arg = arguments[0];
        if (typeof arg === 'number') {
          for (let i = 0; i < arg; i++) {
            this.curves.push(new Curve());
          }
        } else {
          for (let i = 0; i < arg.length; i++) {
            this.curves.push(new Curve(arg[i]));
          }
        }
      }
    }
  }

  /**
   * The number of curves in the curve set.
   *
   * @type {number}
   */
  get length() {
    return this.curves.length;
  }

  /**
   * The interpolation scheme applied to all curves in the curve set. Can be:
   *
   * - {@link CURVE_LINEAR}
   * - {@link CURVE_SMOOTHSTEP}
   * - {@link CURVE_SPLINE}
   * - {@link CURVE_STEP}
   *
   * Defaults to {@link CURVE_SMOOTHSTEP}.
   *
   * @type {number}
   */
  set type(value) {
    this._type = value;
    for (let i = 0; i < this.curves.length; i++) {
      this.curves[i].type = value;
    }
  }
  get type() {
    return this._type;
  }

  /**
   * Return a specific curve in the curve set.
   *
   * @param {number} index - The index of the curve to return.
   * @returns {Curve} The curve at the specified index.
   */
  get(index) {
    return this.curves[index];
  }

  /**
   * Returns the interpolated value of all curves in the curve set at the specified time.
   *
   * @param {number} time - The time at which to calculate the value.
   * @param {number[]} [result] - The interpolated curve values at the specified time. If this
   * parameter is not supplied, the function allocates a new array internally to return the
   * result.
   * @returns {number[]} The interpolated curve values at the specified time.
   */
  value(time, result = []) {
    const length = this.curves.length;
    result.length = length;
    for (let i = 0; i < length; i++) {
      result[i] = this.curves[i].value(time);
    }
    return result;
  }

  /**
   * Returns a clone of the specified curve set object.
   *
   * @returns {this} A clone of the specified curve set.
   */
  clone() {
    /** @type {this} */
    const result = new this.constructor();
    result.curves = [];
    for (let i = 0; i < this.curves.length; i++) {
      result.curves.push(this.curves[i].clone());
    }
    result._type = this._type;
    return result;
  }

  /**
   * Sample the curveset at regular intervals over the range [0..1].
   *
   * @param {number} precision - The number of samples to return.
   * @returns {Float32Array} The set of quantized values.
   * @ignore
   */
  quantize(precision) {
    precision = Math.max(precision, 2);
    const numCurves = this.curves.length;
    const values = new Float32Array(precision * numCurves);
    const step = 1.0 / (precision - 1);
    for (let c = 0; c < numCurves; c++) {
      const ev = new CurveEvaluator(this.curves[c]);
      for (let i = 0; i < precision; i++) {
        // quantize graph to table of interpolated values
        values[i * numCurves + c] = ev.evaluate(step * i);
      }
    }
    return values;
  }

  /**
   * Sample the curveset at regular intervals over the range [0..1] and clamp the result to min
   * and max.
   *
   * @param {number} precision - The number of samples to return.
   * @param {number} min - The minimum output value.
   * @param {number} max - The maximum output value.
   * @returns {Float32Array} The set of quantized values.
   * @ignore
   */
  quantizeClamped(precision, min, max) {
    const result = this.quantize(precision);
    for (let i = 0; i < result.length; ++i) {
      result[i] = Math.min(max, Math.max(min, result[i]));
    }
    return result;
  }
}

export { CurveSet };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VydmUtc2V0LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29yZS9tYXRoL2N1cnZlLXNldC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDVVJWRV9TTU9PVEhTVEVQIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgQ3VydmUgfSBmcm9tICcuL2N1cnZlLmpzJztcbmltcG9ydCB7IEN1cnZlRXZhbHVhdG9yIH0gZnJvbSAnLi9jdXJ2ZS1ldmFsdWF0b3IuanMnO1xuXG4vKipcbiAqIEEgY3VydmUgc2V0IGlzIGEgY29sbGVjdGlvbiBvZiBjdXJ2ZXMuXG4gKi9cbmNsYXNzIEN1cnZlU2V0IHtcbiAgICBjdXJ2ZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdHlwZSA9IENVUlZFX1NNT09USFNURVA7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEN1cnZlU2V0IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxudW1iZXJbXT59IGN1cnZlS2V5cyAtIEFuIGFycmF5IG9mIGFycmF5cyBvZiBrZXlzIChwYWlycyBvZiBudW1iZXJzIHdpdGggdGhlXG4gICAgICogdGltZSBmaXJzdCBhbmQgdmFsdWUgc2Vjb25kKS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGN1cnZlU2V0ID0gbmV3IHBjLkN1cnZlU2V0KFtcbiAgICAgKiAgICAgW1xuICAgICAqICAgICAgICAgMCwgMCwgICAgICAgIC8vIEF0IDAgdGltZSwgdmFsdWUgb2YgMFxuICAgICAqICAgICAgICAgMC4zMywgMiwgICAgIC8vIEF0IDAuMzMgdGltZSwgdmFsdWUgb2YgMlxuICAgICAqICAgICAgICAgMC42NiwgMi42LCAgIC8vIEF0IDAuNjYgdGltZSwgdmFsdWUgb2YgMi42XG4gICAgICogICAgICAgICAxLCAzICAgICAgICAgLy8gQXQgMSB0aW1lLCB2YWx1ZSBvZiAzXG4gICAgICogICAgIF0sXG4gICAgICogICAgIFtcbiAgICAgKiAgICAgICAgIDAsIDM0LFxuICAgICAqICAgICAgICAgMC4zMywgMzUsXG4gICAgICogICAgICAgICAwLjY2LCAzNixcbiAgICAgKiAgICAgICAgIDEsIDM3XG4gICAgICogICAgIF1cbiAgICAgKiBdKTtcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VydmVzLnB1c2gobmV3IEN1cnZlKGFyZ3VtZW50c1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnZlcy5wdXNoKG5ldyBDdXJ2ZSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJnID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnZlcy5wdXNoKG5ldyBDdXJ2ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJnLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnZlcy5wdXNoKG5ldyBDdXJ2ZShhcmdbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgY3VydmVzIGluIHRoZSBjdXJ2ZSBzZXQuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnZlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludGVycG9sYXRpb24gc2NoZW1lIGFwcGxpZWQgdG8gYWxsIGN1cnZlcyBpbiB0aGUgY3VydmUgc2V0LiBDYW4gYmU6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBDVVJWRV9MSU5FQVJ9XG4gICAgICogLSB7QGxpbmsgQ1VSVkVfU01PT1RIU1RFUH1cbiAgICAgKiAtIHtAbGluayBDVVJWRV9TUExJTkV9XG4gICAgICogLSB7QGxpbmsgQ1VSVkVfU1RFUH1cbiAgICAgKlxuICAgICAqIERlZmF1bHRzIHRvIHtAbGluayBDVVJWRV9TTU9PVEhTVEVQfS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgc2V0IHR5cGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdHlwZSA9IHZhbHVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3VydmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnZlc1tpXS50eXBlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgc3BlY2lmaWMgY3VydmUgaW4gdGhlIGN1cnZlIHNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCBvZiB0aGUgY3VydmUgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtDdXJ2ZX0gVGhlIGN1cnZlIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgICovXG4gICAgZ2V0KGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnZlc1tpbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlIG9mIGFsbCBjdXJ2ZXMgaW4gdGhlIGN1cnZlIHNldCBhdCB0aGUgc3BlY2lmaWVkIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRoZSB0aW1lIGF0IHdoaWNoIHRvIGNhbGN1bGF0ZSB0aGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW3Jlc3VsdF0gLSBUaGUgaW50ZXJwb2xhdGVkIGN1cnZlIHZhbHVlcyBhdCB0aGUgc3BlY2lmaWVkIHRpbWUuIElmIHRoaXNcbiAgICAgKiBwYXJhbWV0ZXIgaXMgbm90IHN1cHBsaWVkLCB0aGUgZnVuY3Rpb24gYWxsb2NhdGVzIGEgbmV3IGFycmF5IGludGVybmFsbHkgdG8gcmV0dXJuIHRoZVxuICAgICAqIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IFRoZSBpbnRlcnBvbGF0ZWQgY3VydmUgdmFsdWVzIGF0IHRoZSBzcGVjaWZpZWQgdGltZS5cbiAgICAgKi9cbiAgICB2YWx1ZSh0aW1lLCByZXN1bHQgPSBbXSkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLmN1cnZlcy5sZW5ndGg7XG4gICAgICAgIHJlc3VsdC5sZW5ndGggPSBsZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0W2ldID0gdGhpcy5jdXJ2ZXNbaV0udmFsdWUodGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgc3BlY2lmaWVkIGN1cnZlIHNldCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7dGhpc30gQSBjbG9uZSBvZiB0aGUgc3BlY2lmaWVkIGN1cnZlIHNldC5cbiAgICAgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgLyoqIEB0eXBlIHt0aGlzfSAqL1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpO1xuXG4gICAgICAgIHJlc3VsdC5jdXJ2ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1cnZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LmN1cnZlcy5wdXNoKHRoaXMuY3VydmVzW2ldLmNsb25lKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0Ll90eXBlID0gdGhpcy5fdHlwZTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbXBsZSB0aGUgY3VydmVzZXQgYXQgcmVndWxhciBpbnRlcnZhbHMgb3ZlciB0aGUgcmFuZ2UgWzAuLjFdLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIFRoZSBudW1iZXIgb2Ygc2FtcGxlcyB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gVGhlIHNldCBvZiBxdWFudGl6ZWQgdmFsdWVzLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBxdWFudGl6ZShwcmVjaXNpb24pIHtcbiAgICAgICAgcHJlY2lzaW9uID0gTWF0aC5tYXgocHJlY2lzaW9uLCAyKTtcblxuICAgICAgICBjb25zdCBudW1DdXJ2ZXMgPSB0aGlzLmN1cnZlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkocHJlY2lzaW9uICogbnVtQ3VydmVzKTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IDEuMCAvIChwcmVjaXNpb24gLSAxKTtcblxuICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IG51bUN1cnZlczsgYysrKSB7XG4gICAgICAgICAgICBjb25zdCBldiA9IG5ldyBDdXJ2ZUV2YWx1YXRvcih0aGlzLmN1cnZlc1tjXSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWNpc2lvbjsgaSsrKSB7IC8vIHF1YW50aXplIGdyYXBoIHRvIHRhYmxlIG9mIGludGVycG9sYXRlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaSAqIG51bUN1cnZlcyArIGNdID0gZXYuZXZhbHVhdGUoc3RlcCAqIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYW1wbGUgdGhlIGN1cnZlc2V0IGF0IHJlZ3VsYXIgaW50ZXJ2YWxzIG92ZXIgdGhlIHJhbmdlIFswLi4xXSBhbmQgY2xhbXAgdGhlIHJlc3VsdCB0byBtaW5cbiAgICAgKiBhbmQgbWF4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIFRoZSBudW1iZXIgb2Ygc2FtcGxlcyB0byByZXR1cm4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbiAtIFRoZSBtaW5pbXVtIG91dHB1dCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IC0gVGhlIG1heGltdW0gb3V0cHV0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IFRoZSBzZXQgb2YgcXVhbnRpemVkIHZhbHVlcy5cbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgcXVhbnRpemVDbGFtcGVkKHByZWNpc2lvbiwgbWluLCBtYXgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5xdWFudGl6ZShwcmVjaXNpb24pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmVzdWx0W2ldID0gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHJlc3VsdFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5leHBvcnQgeyBDdXJ2ZVNldCB9O1xuIl0sIm5hbWVzIjpbIkN1cnZlU2V0IiwiY29uc3RydWN0b3IiLCJjdXJ2ZXMiLCJfdHlwZSIsIkNVUlZFX1NNT09USFNURVAiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJpIiwicHVzaCIsIkN1cnZlIiwiYXJnIiwidHlwZSIsInZhbHVlIiwiZ2V0IiwiaW5kZXgiLCJ0aW1lIiwicmVzdWx0IiwiY2xvbmUiLCJxdWFudGl6ZSIsInByZWNpc2lvbiIsIk1hdGgiLCJtYXgiLCJudW1DdXJ2ZXMiLCJ2YWx1ZXMiLCJGbG9hdDMyQXJyYXkiLCJzdGVwIiwiYyIsImV2IiwiQ3VydmVFdmFsdWF0b3IiLCJldmFsdWF0ZSIsInF1YW50aXplQ2xhbXBlZCIsIm1pbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBLE1BQU1BLFFBQVEsQ0FBQztBQVNYO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNJQyxFQUFBQSxXQUFXQSxHQUFHO0lBQUEsSUE3QmRDLENBQUFBLE1BQU0sR0FBRyxFQUFFLENBQUE7QUFFWDtBQUNKO0FBQ0E7QUFDQTtJQUhJLElBSUFDLENBQUFBLEtBQUssR0FBR0MsZ0JBQWdCLENBQUE7QUF3QnBCLElBQUEsSUFBSUMsU0FBUyxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLE1BQUEsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdGLFNBQVMsQ0FBQ0MsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtBQUN2QyxRQUFBLElBQUksQ0FBQ0wsTUFBTSxDQUFDTSxJQUFJLENBQUMsSUFB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
